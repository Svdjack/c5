class angModelCity{constructor(t){this.data=t}create(){if(!this.data.id)throw new Error("City not found");return this}getArea(){return this.data.area}getId(){return this.data.id}}class angComponentChangeCity{constructor(t,e){this.$scope=t,this.$http=e,this.area=0,this.list=[],this.areas=[]}$onInit(){this.city&&this.$http({url:"/asset/angular/areas.json"}).then(t=>(this.areas=t.data,!0)).then(()=>this.run()).catch(t=>{console.log(t)})}run(){return this.$http({url:`/ajax/get-city/${this.city}`}).then(t=>new angModelCity(t.data).create()).then(t=>(this.area=t.getArea(),this.city=t.getId(),t)).then(()=>this.changeArea()).catch(t=>{console.log(t),alert("Что-то пошло не так")})}changeArea(){return this.$http({url:`/ajax/user_company_region/${this.area}`}).then(t=>(this.list=t.data,this.list))}isSelected(t,e){return parseInt(t,10)==parseInt(e,10)}}class angControllerOneClick{constructor(t){this.$scope=t}}angular.module("app",[]).config(["$sceDelegateProvider",t=>{t.resourceUrlWhitelist(["self","https://angularjs.org/**"])}]).controller("OneClick",["$scope","$http",angControllerOneClick]).component("changeCity",{bindings:{city:"<"},templateUrl:"/asset/angular/change-city.html",controller:["$scope","$http",angComponentChangeCity]});