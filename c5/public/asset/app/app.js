if(function(e){function t(){var t=e(window).width();t>515&&e("body").addClass("min_width515"),t>706&&e("body").addClass("min_width706"),t<=961&&t>800?e("body").attr("id","max_width960"):t<=800&&t>705?e("body").attr("id","max_width800"):t<=705&&t>514?e("body").attr("id","max_width705"):t<=514&&t>309?e("body").attr("id","max_width514"):t<=309&&e("body").attr("id","max_width309")}e(document).ready(t),window.onload=t,e(window).resize(t)}(jQuery),jQuery(document).ready(function(){if(!localStorage.getItem("activeFirm"))return;let e=function(){localStorage.removeItem("activeFirm",null),localStorage.removeItem("activeFirmLink",null),localStorage.removeItem("activeFirmExpire",null)},t=function(){let t=+new Date,i=parseInt(localStorage.getItem("activeFirmExpire"),10);return i||e(),t>i&&(e(),!0)};t();let i='<div class="activeFirm">\n        <a href="'+localStorage.getItem("activeFirmLink")+'">\n            Назад на карту\n        </a>\n    </div>';jQuery("body").append(i);let n=setInterval(function(){t()&&(jQuery(".activeFirm").hide(),clearInterval(n))},1e3)}),window.adsOn=!1,"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");function fire_target(e){yaCounter28929580.reachGoal(e)}!function(e){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(),function(e){"use strict";var t='[data-dismiss="alert"]',i=function(i){e(i).on("click",t,this.close)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){r.detach().trigger("closed.bs.alert").remove()}var o=e(this),s=o.attr("data-target");s||(s=(s=o.attr("href"))&&s.replace(/.*(?=#[^\s]*$)/,""));var r=e(s);t&&t.preventDefault(),r.length||(r=o.closest(".alert")),r.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var n=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var n=e(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof t&&o[t].call(n)})},e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=n,this},e(document).on("click.bs.alert.data-api",t,i.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.button"),s="object"==typeof t&&t;o||n.data("bs.button",o=new i(this,s)),"toggle"==t?o.toggle():t&&o.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",s=n.data();t+="Text",null==s.resetText&&n.data("resetText",n[o]()),setTimeout(e.proxy(function(){n[o](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),e&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),e(i.target).is('input[type="radio"]')||e(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.carousel"),s=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),r="string"==typeof t?t:s.slide;o||n.data("bs.carousel",o=new i(this,s)),"number"==typeof t?o.to(t):r?o[r]():s.interval&&o.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t);if(("prev"==e&&0===i||"next"==e&&i==this.$items.length-1)&&!this.options.wrap)return t;var n=(i+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(n)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(t,n){var o=this.$element.find(".item.active"),s=n||this.getItemForDirection(t,o),r=this.interval,a="next"==t?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var c=s[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=e(this.$indicators.children()[this.getItemIndex(s)]);h&&h.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return e.support.transition&&this.$element.hasClass("slide")?(s.addClass(t),s[0].offsetWidth,o.addClass(a),s.addClass(a),o.one("bsTransitionEnd",function(){s.removeClass([t,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),r&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var o=function(i){var n,o=e(this),s=e(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var r=e.extend({},s.data(),o.data()),a=o.attr("data-slide-to");a&&(r.interval=!1),t.call(s,r),a&&s.data("bs.carousel").to(a),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),function(e){"use strict";function t(t){var i=t.attr("data-target");i||(i=(i=t.attr("href"))&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function i(i){i&&3===i.which||(e(n).remove(),e(o).each(function(){var n=e(this),o=t(n),s={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(o[0],i.target)||(o.trigger(i=e.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger(e.Event("hidden.bs.dropdown",s)))))}))}var n=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.6",s.prototype.toggle=function(n){var o=e(this);if(!o.is(".disabled, :disabled")){var s=t(o),r=s.hasClass("open");if(i(),!r){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",i);var a={relatedTarget:this};if(s.trigger(n=e.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(e.Event("shown.bs.dropdown",a))}return!1}},s.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=e(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var s=t(n),r=s.hasClass("open");if(!r&&27!=i.which||r&&27==i.which)return 27==i.which&&s.find(o).trigger("focus"),n.trigger("click");var a=s.find(".dropdown-menu li:not(.disabled):visible a");if(a.length){var l=a.index(i.target);38==i.which&&l>0&&l--,40==i.which&&l<a.length-1&&l++,~l||(l=0),a.eq(l).trigger("focus")}}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new s(this)),"string"==typeof t&&n[t].call(i)})},e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,n){return this.each(function(){var o=e(this),s=o.data("bs.modal"),r=e.extend({},i.DEFAULTS,o.data(),"object"==typeof t&&t);s||o.data("bs.modal",s=new i(this,r)),"string"==typeof t?s[t](n):r.show&&s.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&o;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):r()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),o=n.attr("href"),s=e(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},s.data(),n.data());n.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(s,r,this)})}(jQuery),function(e){"use strict";var t=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};t.VERSION="3.3.6",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),s=o.length;s--;){var r=o[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},t.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},t.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},t.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},t.prototype.show=function(){var i=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(i);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(i.isDefaultPrevented()||!n)return;var o=this,s=this.tip(),r=this.getUID(this.type);this.setContent(),s.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&s.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),h=s[0].offsetWidth,d=s[0].offsetHeight;if(c){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+d>p.bottom?"top":"top"==a&&u.top-d<p.top?"bottom":"right"==a&&u.right+h>p.width?"left":"left"==a&&u.left-h<p.left?"right":a,s.removeClass(f).addClass(a)}var m=this.getCalculatedOffset(a,u,h,d);this.applyPlacement(m,a);var v=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(t.TRANSITION_DURATION):v()}},t.prototype.applyPlacement=function(t,i){var n=this.tip(),o=n[0].offsetWidth,s=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),t.top+=r,t.left+=a,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=s&&(t.top=t.top+s-c);var u=this.getViewportAdjustedDelta(i,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var h=/top|bottom/.test(i),d=h?2*u.left-o+l:2*u.top-s+c,f=h?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][f],h)},t.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(i){function n(){"in"!=o.hoverState&&s.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),i&&i()}var o=this,s=e(this.$tip),r=e.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(t.TRANSITION_DURATION):n(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var i=(t=t||this.$element)[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var s=n?{top:0,left:0}:t.offset(),r={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,r,a,s)},t.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var s=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-s-r.scroll,l=t.top+s-r.scroll+n;a<r.top?o.top=r.top-a:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var c=t.left-s,u=t.left+s+i;c<r.left?o.left=r.left-c:u>r.right&&(o.left=r.left+r.width-u)}return o},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var i=this;t&&((i=e(t.currentTarget).data("bs."+this.type))||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var n=e(this),o=n.data("bs.tooltip"),s="object"==typeof i&&i;(o||!/destroy|hide/.test(i))&&(o||n.data("bs.tooltip",o=new t(this,s)),"string"==typeof i&&o[i]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.6",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=function(i){return this.each(function(){var n=e(this),o=n.data("bs.popover"),s="object"==typeof i&&i;(o||!/destroy|hide/.test(i))&&(o||n.data("bs.popover",o=new t(this,s)),"string"==typeof i&&o[i]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof t&&o[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=i.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),r=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(s),t.trigger(r),!r.isDefaultPrevented()&&!s.isDefaultPrevented()){var a=e(n);this.activate(t.closest("li"),i),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(t,n,o){function s(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var r=n.find("> .active"),a=o&&e.support.transition&&(r.length&&r.hasClass("fade")||!!n.find("> .fade").length);r.length&&a?r.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),r.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var o=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.affix"),s="object"==typeof t&&t;o||n.data("bs.affix",o=new i(this,s)),"string"==typeof t&&o[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var o=this.$target.scrollTop(),s=this.$element.offset(),r=this.$target.height();if(null!=i&&"top"==this.affixed)return i>o&&"top";if("bottom"==this.affixed)return null!=i?!(o+this.unpin<=s.top)&&"bottom":!(e-n>=o+r)&&"bottom";var a=null==this.affixed,l=a?o:s.top;return null!=i&&i>=o?"top":null!=n&&l+(a?r:t)>=e-n&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,o=n.top,s=n.bottom,r=Math.max(e(document).height(),e(document.body).height());"object"!=typeof n&&(s=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof s&&(s=n.bottom(this.$element));var a=this.getState(r,t,o,s);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:r-t-s})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),o=i.data("bs.collapse"),s=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!o&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),o||i.data("bs.collapse",o=new n(this,s)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.6",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"),t&&t.transitioning))){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),t||o.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[r](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var o=e(n);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=e(this);o.attr("data-target")||n.preventDefault();var s=t(o),r=s.data("bs.collapse")?"toggle":o.data();i.call(s,r)})}(jQuery),function(e){"use strict";function t(i,n){this.$body=e(document.body),this.$scrollElement=e(e(i).is(document.body)?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),o=n.data("bs.scrollspy"),s="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new t(this,s)),"string"==typeof i&&o[i]()})}t.VERSION="3.3.6",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),o=t.data("target")||t.attr("href"),s=/^#./.test(o)&&e(o);return s&&s.length&&s.is(":visible")&&[[s[i]().top+n,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,s=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),t>=n)return r!=(e=s[s.length-1])&&this.activate(e);if(r&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)r!=s[e]&&t>=o[e]&&(void 0===o[e+1]||t<o[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});return setTimeout(function(){i||e(n).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(e,t,i){function n(i,n,o){var s=t.createElement(i);return n&&(s.id=Z+n),o&&(s.style.cssText=o),e(s)}function o(){return i.innerHeight?i.innerHeight:e(i).height()}function s(t,i){i!==Object(i)&&(i={}),this.cache={},this.el=t,this.value=function(t){var n;return void 0===this.cache[t]&&(void 0!==(n=e(this.el).attr("data-cbox-"+t))?this.cache[t]=n:void 0!==i[t]?this.cache[t]=i[t]:void 0!==J[t]&&(this.cache[t]=J[t])),this.cache[t]},this.get=function(t){var i=this.value(t);return e.isFunction(i)?i.call(this.el,this):i}}function r(e){var t=E.length,i=(z+e)%t;return 0>i?t+i:i}function a(e,t){return Math.round((/%/.test(e)?("x"===t?T.width():o())/100:1)*parseInt(e,10))}function l(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function c(e,t){return e.get("retinaUrl")&&i.devicePixelRatio>1?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function u(e){"contains"in y[0]&&!y[0].contains(e.target)&&e.target!==g[0]&&(e.stopPropagation(),y.focus())}function h(e){h.str!==e&&(y.add(g).removeClass(h.str).addClass(e),h.str=e)}function d(i){e(t).trigger(i),re.triggerHandler(i)}function f(i){var o;if(!B){if(o=e(i).data(X),function(t){z=0,t&&!1!==t&&"nofollow"!==t?(E=e("."+Y).filter(function(){return new s(this,e.data(this,X)).get("rel")===t}),-1===(z=E.index(P.el))&&(E=E.add(P.el),z=E.length-1)):E=e(P.el)}((P=new s(i,o)).get("rel")),!V){V=q=!0,h(P.get("className")),y.css({visibility:"hidden",display:"block",opacity:""}),I=n(ae,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),w.css({width:"",height:""}).append(I),N=x.height()+S.height()+w.outerHeight(!0)-w.height(),U=C.width()+k.width()+w.outerWidth(!0)-w.width(),j=I.outerHeight(!0),H=I.outerWidth(!0);var r=a(P.get("initialWidth"),"x"),l=a(P.get("initialHeight"),"y"),c=P.get("maxWidth"),f=P.get("maxHeight");P.w=Math.max((!1!==c?Math.min(r,a(c,"x")):r)-H-U,0),P.h=Math.max((!1!==f?Math.min(l,a(f,"y")):l)-j-N,0),I.css({width:"",height:P.h}),G.position(),d(ee),P.get("onOpen"),O.add(R).hide(),y.focus(),P.get("trapFocus")&&t.addEventListener&&(t.addEventListener("focus",u,!0),re.one(oe,function(){t.removeEventListener("focus",u,!0)})),P.get("returnFocus")&&re.one(oe,function(){e(P.el).focus()})}var p=parseFloat(P.get("opacity"));g.css({opacity:p==p?p:"",cursor:P.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),P.get("closeButton")?L.html(P.get("close")).appendTo(w):L.appendTo("<div/>"),v()}}function p(){y||(K=!1,T=e(i),y=n(ae).attr({id:X,class:!1===e.support.opacity?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),g=n(ae,"Overlay").hide(),A=e([n(ae,"LoadingOverlay")[0],n(ae,"LoadingGraphic")[0]]),b=n(ae,"Wrapper"),w=n(ae,"Content").append(R=n(ae,"Title"),_=n(ae,"Current"),$=e('<button type="button"/>').attr({id:Z+"Previous"}),M=e('<button type="button"/>').attr({id:Z+"Next"}),D=n("button","Slideshow"),A),L=e('<button type="button"/>').attr({id:Z+"Close"}),b.append(n(ae).append(n(ae,"TopLeft"),x=n(ae,"TopCenter"),n(ae,"TopRight")),n(ae,!1,"clear:left").append(C=n(ae,"MiddleLeft"),w,k=n(ae,"MiddleRight")),n(ae,!1,"clear:left").append(n(ae,"BottomLeft"),S=n(ae,"BottomCenter"),n(ae,"BottomRight"))).find("div div").css({float:"left"}),F=n(ae,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),O=M.add($).add(_).add(D)),t.body&&!y.parent().length&&e(t.body).append(g,y.append(b,F))}function m(){function i(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),f(this))}return!!y&&(K||(K=!0,M.click(function(){G.next()}),$.click(function(){G.prev()}),L.click(function(){G.close()}),g.click(function(){P.get("overlayClose")&&G.close()}),e(t).bind("keydown."+Z,function(e){var t=e.keyCode;V&&P.get("escKey")&&27===t&&(e.preventDefault(),G.close()),V&&P.get("arrowKey")&&E[1]&&!e.altKey&&(37===t?(e.preventDefault(),$.click()):39===t&&(e.preventDefault(),M.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+Z,"."+Y,i):e("."+Y).live("click."+Z,i)),!0)}function v(){var t,o,s,r=G.prep,u=++le;if(q=!0,W=!1,d(se),d(te),P.get("onLoad"),P.h=P.get("height")?a(P.get("height"),"y")-j-N:P.get("innerHeight")&&a(P.get("innerHeight"),"y"),P.w=P.get("width")?a(P.get("width"),"x")-H-U:P.get("innerWidth")&&a(P.get("innerWidth"),"x"),P.mw=P.w,P.mh=P.h,P.get("maxWidth")&&(P.mw=a(P.get("maxWidth"),"x")-H-U,P.mw=P.w&&P.w<P.mw?P.w:P.mw),P.get("maxHeight")&&(P.mh=a(P.get("maxHeight"),"y")-j-N,P.mh=P.h&&P.h<P.mh?P.h:P.mh),t=P.get("href"),Q=setTimeout(function(){A.show()},100),P.get("inline")){var h=e(t);s=e("<div>").hide().insertBefore(h),re.one(se,function(){s.replaceWith(h)}),r(h)}else P.get("iframe")?r(" "):P.get("html")?r(P.get("html")):l(P,t)?(t=c(P,t),W=P.get("createImg"),e(W).addClass(Z+"Photo").bind("error."+Z,function(){r(n(ae,"Error").html(P.get("imgError")))}).one("load",function(){u===le&&setTimeout(function(){var t;P.get("retinaImage")&&i.devicePixelRatio>1&&(W.height=W.height/i.devicePixelRatio,W.width=W.width/i.devicePixelRatio),P.get("scalePhotos")&&(o=function(){W.height-=W.height*t,W.width-=W.width*t},P.mw&&W.width>P.mw&&(t=(W.width-P.mw)/W.width,o()),P.mh&&W.height>P.mh&&(t=(W.height-P.mh)/W.height,o())),P.h&&(W.style.marginTop=Math.max(P.mh-W.height,0)/2+"px"),E[1]&&(P.get("loop")||E[z+1])&&(W.style.cursor="pointer",e(W).bind("click."+Z,function(){G.next()})),W.style.width=W.width+"px",W.style.height=W.height+"px",r(W)},1)}),W.src=t):t&&F.load(t,P.get("data"),function(t,i){u===le&&r("error"===i?n(ae,"Error").html(P.get("xhrError")):e(this).contents())})}var g,y,b,w,x,C,k,S,E,T,I,F,A,R,_,D,M,$,L,O,P,N,U,j,H,z,W,V,q,B,Q,G,K,J={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return e(this).attr("href")},title:function(){return this.title},createImg:function(){var t=new Image,i=e(this).data("cbox-img-attrs");return"object"==typeof i&&e.each(i,function(e,i){t[e]=i}),t},createIframe:function(){var i=t.createElement("iframe"),n=e(this).data("cbox-iframe-attrs");return"object"==typeof n&&e.each(n,function(e,t){i[e]=t}),"frameBorder"in i&&(i.frameBorder=0),"allowTransparency"in i&&(i.allowTransparency="true"),i.name=(new Date).getTime(),i.allowFullscreen=!0,i}},X="colorbox",Z="cbox",Y=Z+"Element",ee=Z+"_open",te=Z+"_load",ie=Z+"_complete",ne=Z+"_cleanup",oe=Z+"_closed",se=Z+"_purge",re=e("<a/>"),ae="div",le=0,ce={},ue=function(){function e(){clearTimeout(r)}function t(){(P.get("loop")||E[z+1])&&(e(),r=setTimeout(G.next,P.get("slideshowSpeed")))}function i(){D.html(P.get("slideshowStop")).unbind(l).one(l,n),re.bind(ie,t).bind(te,e),y.removeClass(a+"off").addClass(a+"on")}function n(){e(),re.unbind(ie,t).unbind(te,e),D.html(P.get("slideshowStart")).unbind(l).one(l,function(){G.next(),i()}),y.removeClass(a+"on").addClass(a+"off")}function o(){s=!1,D.hide(),e(),re.unbind(ie,t).unbind(te,e),y.removeClass(a+"off "+a+"on")}var s,r,a=Z+"Slideshow_",l="click."+Z;return function(){s?P.get("slideshow")||(re.unbind(ne,o),o()):P.get("slideshow")&&E[1]&&(s=!0,re.one(ne,o),P.get("slideshowAuto")?i():n(),D.show())}}();e[X]||(e(p),(G=e.fn[X]=e[X]=function(t,i){var n=this;return t=t||{},e.isFunction(n)&&(n=e("<a/>"),t.open=!0),n[0]?(p(),m()&&(i&&(t.onComplete=i),n.each(function(){var i=e.data(this,X)||{};e.data(this,X,e.extend(i,t))}).addClass(Y),new s(n[0],t).get("open")&&f(n[0])),n):n}).position=function(t,i){function n(){x[0].style.width=S[0].style.width=w[0].style.width=parseInt(y[0].style.width,10)-U+"px",w[0].style.height=C[0].style.height=k[0].style.height=parseInt(y[0].style.height,10)-N+"px"}var s,r,l,c=0,u=0,h=y.offset();if(T.unbind("resize."+Z),y.css({top:-9e4,left:-9e4}),r=T.scrollTop(),l=T.scrollLeft(),P.get("fixed")?(h.top-=r,h.left-=l,y.css({position:"fixed"})):(c=r,u=l,y.css({position:"absolute"})),u+=!1!==P.get("right")?Math.max(T.width()-P.w-H-U-a(P.get("right"),"x"),0):!1!==P.get("left")?a(P.get("left"),"x"):Math.round(Math.max(T.width()-P.w-H-U,0)/2),c+=!1!==P.get("bottom")?Math.max(o()-P.h-j-N-a(P.get("bottom"),"y"),0):!1!==P.get("top")?a(P.get("top"),"y"):Math.round(Math.max(o()-P.h-j-N,0)/2),y.css({top:h.top,left:h.left,visibility:"visible"}),b[0].style.width=b[0].style.height="9999px",s={width:P.w+H+U,height:P.h+j+N,top:c,left:u},t){var d=0;e.each(s,function(e){return s[e]!==ce[e]?void(d=t):void 0}),t=d}ce=s,t||y.css(s),y.dequeue().animate(s,{duration:t||0,complete:function(){n(),q=!1,b[0].style.width=P.w+H+U+"px",b[0].style.height=P.h+j+N+"px",P.get("reposition")&&setTimeout(function(){T.bind("resize."+Z,G.position)},1),e.isFunction(i)&&i()},step:n})},G.resize=function(e){var t;V&&((e=e||{}).width&&(P.w=a(e.width,"x")-H-U),e.innerWidth&&(P.w=a(e.innerWidth,"x")),I.css({width:P.w}),e.height&&(P.h=a(e.height,"y")-j-N),e.innerHeight&&(P.h=a(e.innerHeight,"y")),e.innerHeight||e.height||(t=I.scrollTop(),I.css({height:"auto"}),P.h=I.height()),I.css({height:P.h}),t&&I.scrollTop(t),G.position("none"===P.get("transition")?0:P.get("speed")))},G.prep=function(i){if(V){var o,a="none"===P.get("transition")?0:P.get("speed");I.remove(),(I=n(ae,"LoadedContent").append(i)).hide().appendTo(F.show()).css({width:(P.w=P.w||I.width(),P.w=P.mw&&P.mw<P.w?P.mw:P.w,P.w),overflow:P.get("scrolling")?"auto":"hidden"}).css({height:(P.h=P.h||I.height(),P.h=P.mh&&P.mh<P.h?P.mh:P.h,P.h)}).prependTo(w),F.hide(),e(W).css({float:"none"}),h(P.get("className")),o=function(){function i(){!1===e.support.opacity&&y[0].style.removeAttribute("filter")}var n,o,u=E.length;V&&(o=function(){clearTimeout(Q),A.hide(),d(ie),P.get("onComplete")},R.html(P.get("title")).show(),I.show(),u>1?("string"==typeof P.get("current")&&_.html(P.get("current").replace("{current}",z+1).replace("{total}",u)).show(),M[P.get("loop")||u-1>z?"show":"hide"]().html(P.get("next")),$[P.get("loop")||z?"show":"hide"]().html(P.get("previous")),ue(),P.get("preloading")&&e.each([r(-1),r(1)],function(){var i=E[this],n=new s(i,e.data(i,X)),o=n.get("href");o&&l(n,o)&&(o=c(n,o),t.createElement("img").src=o)})):O.hide(),P.get("iframe")?(n=P.get("createIframe"),P.get("scrolling")||(n.scrolling="no"),e(n).attr({src:P.get("href"),class:Z+"Iframe"}).one("load",o).appendTo(I),re.one(se,function(){n.src="//about:blank"}),P.get("fastIframe")&&e(n).trigger("load")):o(),"fade"===P.get("transition")?y.fadeTo(a,1,i):i())},"fade"===P.get("transition")?y.fadeTo(a,0,function(){G.position(0,o)}):G.position(a,o)}},G.next=function(){!q&&E[1]&&(P.get("loop")||E[z+1])&&(z=r(1),f(E[z]))},G.prev=function(){!q&&E[1]&&(P.get("loop")||z)&&(z=r(-1),f(E[z]))},G.close=function(){V&&!B&&(B=!0,V=!1,d(ne),P.get("onCleanup"),T.unbind("."+Z),g.fadeTo(P.get("fadeOut")||0,0),y.stop().fadeTo(P.get("fadeOut")||0,0,function(){y.hide(),g.hide(),d(se),I.remove(),setTimeout(function(){B=!1,d(oe),P.get("onClosed")},1)}))},G.remove=function(){y&&(y.stop(),e[X].close(),y.stop(!1,!0).remove(),g.remove(),B=!1,y=null,e("."+Y).removeData(X).removeClass(Y),e(t).unbind("click."+Z).unbind("keydown."+Z))},G.element=function(){return e(P.el)},G.settings=J)}(jQuery,document,window),String.prototype.russify=function(){for(var e=["q","w","e","r","t","y","u","i","o","p","[","]","a","s","d","f","g","h","j","k","l",";","'","z","x","c","v","b","n","m",",",".","Q","W","E","R","T","Y","U","I","O","P","{","}","A","S","D","F","G","H","J","K","L",":",'"',"Z","X","C","V","B","N","M","<",">"],t=["й","ц","у","к","е","н","г","ш","щ","з","х","ъ","ф","ы","в","а","п","р","о","л","д","ж","э","я","ч","с","м","и","т","ь","б","ю","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Я","Ч","С","М","И","Т","Ь","Б","Ю"],i=this,n=0;n<e.length;n++)i=i.replace(e[n],t[n]);return i};var focusElement={init:function(){$("#mask").length<1&&$("body").append('<div class="mask" id="mask"></div>'),$("#mask").on("click",function(){$("#mask").fadeOut("fast"),$(".element-focus").removeClass("element-focus")})},show:function(e){$("#mask").fadeIn("fast"),$(e).addClass("element-focus")},hide:function(){$("#mask").fadeOut("fast"),$(".element-focus").removeClass("element-focus")}};focusElement.init(),$(".js-input-search-focus").on("focus",function(){var e=this;jQuery(this).parents("header").addClass("header__search-infocus"),focusElement.show($(this).parent()),focusElement.show($(".popular")),$(document).on("keyup",function(t){27==t.keyCode&&(focusElement.hide(),e.value="",e.blur())})}),$(".js-input-search-focus").on("blur",function(){jQuery(this).parents("header").removeClass("header__search-infocus")});var scrolltotop={setting:{startline:100,scrollto:0,scrollduration:1e3,fadeduration:[500,100]},controlHTML:'<img src="/asset/images/arrow_up.png" />',controlattrs:{offsetx:5,offsety:5},anchorkeyword:"#top",state:{isvisible:!1,shouldvisible:!1},scrollup:function(){this.cssfixedsupport||this.$control.css({opacity:0});var e=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto);e="string"==typeof e&&1==jQuery("#"+e).length?jQuery("#"+e).offset().top:0,this.$body.animate({scrollTop:e},this.setting.scrollduration)},keepfixed:function(){var e=jQuery(window),t=e.scrollLeft()+e.width()-this.$control.width()-this.controlattrs.offsetx,i=e.scrollTop()+e.height()-this.$control.height()-this.controlattrs.offsety;this.$control.css({left:t+"px",top:i+"px"})},togglecontrol:function(){var e=jQuery(window).scrollTop();this.cssfixedsupport||this.keepfixed(),this.state.shouldvisible=e>=this.setting.startline,this.state.shouldvisible&&!this.state.isvisible?(this.$control.stop().animate({opacity:1},this.setting.fadeduration[0]),this.state.isvisible=!0):0==this.state.shouldvisible&&this.state.isvisible&&(this.$control.stop().animate({opacity:0},this.setting.fadeduration[1]),this.state.isvisible=!1)},init:function(){jQuery(document).ready(function(e){var t=scrolltotop,i=document.all;t.cssfixedsupport=!i||i&&"CSS1Compat"==document.compatMode&&window.XMLHttpRequest,t.$body=e(window.opera?"CSS1Compat"==document.compatMode?"html":"body":"html,body"),t.$control=e('<div id="topcontrol">'+t.controlHTML+"</div>").css({position:t.cssfixedsupport?"fixed":"absolute",bottom:t.controlattrs.offsety,right:t.controlattrs.offsetx,opacity:0,cursor:"pointer"}).attr({title:"Наверх"}).click(function(){return t.scrollup(),!1}).appendTo("body"),document.all&&!window.XMLHttpRequest&&""!=t.$control.text()&&t.$control.css({width:t.$control.width()}),t.togglecontrol(),e('a[href="'+t.anchorkeyword+'"]').click(function(){return t.scrollup(),!1}),e(window).bind("scroll resize",function(e){t.togglecontrol()})})}};function form_populate(e,t){jQuery.each(t,function(t,i){if(i){var n=jQuery('[name="'+e+"["+t+']"]');n.length>0&&n.val(i)}})}function set_worktime(e){$.each(e,function(e,t){switch(t.type){case"rest":$("#"+e+"_rest").click();break;case"normal_with_rest":$("."+e+" .add-obed").click();break;case"nonstop":$("#"+e+"_nonstop").click()}var i=$("."+e);i.find(".start").val(t.start.replace(/^0+/g,"")),i.find(".end").val(t.end.replace(/^0+/g,"")),i.find(".obed-start").val(t.obed.start.replace(/^0+/g,"")),i.find(".obed-end").val(t.obed.end.replace(/^0+/g,""))})}function set_okved(e){var t=$("#firm-okved");$.each(e,function(e,i){var n=t.clone();n.val(i),t.after(n)});var i=$(".okved-field");console.log(i);var n=i.length;n>1&&i.each(function(){!$(this).val()&&n>1&&($(this).remove(),n--)})}function set_children(e){var t=$("#firm-children");$.each(e,function(e,i){var n=t.clone();n.val(i.Value),t.after(n)});var i=$(".user-company-children"),n=i.length;n>1&&i.each(function(){!$(this).val()&&n>1&&($(this).remove(),n--)})}function bind_contacts(e){var t=$("#firm-phone"),i=$("#firm-email"),n=$("#firm-fax"),o=$("#firm-sites");$.each(e,function(e,s){switch(s.Type){case"website":var r=o.clone();r.val(s.Value),o.after(r);break;case"email":var a=i.clone();a.val(s.Value),i.after(a);break;case"fax":var l=n.clone();l.val(s.Value),n.after(l);break;case"phone":var c=t.clone();c.val(s.Value),t.after(c)}}),$(".contact-field").each(function(){$(this).siblings(".contact-field").length>0&&($(this).val()||$(this).remove())})}function set_region(e){setTimeout(function(){console.log(e),$("#firm-region").val(e.region_id),$("#firm-region").change(),$(document).on("city-list-generated",function(){$(".firm-city-select").val(e.city_id),$(document).off("city-list-generated")})},3201)}function add_category(e,t){if(0!=e){var i=$("#categories");if(i.find("input[value="+e+"]").length>0)alert("Уже выбрана!");else if(i.find("input").length>=5)alert("Не больше 5 категорий!");else{var n=$("<div/>",{class:"form-list-item",text:t}),o=$("<input/>",{type:"hidden",value:e,name:"firm[categories][]"}),s=$("<span/>",{text:"X",class:"form-list-remove"});n.append(o).append(s),i.append(n)}}else alert("Выберите категорию!")}function add_keyword(e){if(""!=e){var t=$("#keywords");if(t.find("input").length>=15)alert("Не больше 15 ключевых слов!");else if(t.find('input[value="'+e+'"]').length>0)alert("Данное ключевое слово уже выбрано");else{var i=$("<div/>",{class:"form-list-item",text:e}),n=$("<input/>",{type:"hidden",value:e,name:"firm[keywords][]"}),o=$("<span/>",{text:"X",class:"form-list-remove"});i.append(n).append(o),t.append(i)}}else alert("Введите ключевое слово")}scrolltotop.init(),function(e){e(document).ready(function(){function i(t){t.error&&e("#error_form").find(".form-submit").before('<div style="color:red;font-weight: bold">'+t.error+"<div>"),t.success&&(e.colorbox.resize({width:"600px",height:"150px"}),console.log(t),e(".error-form").html('<div style="color:green;font-weight: bold">'+t.success+"<div>"))}e(".colorbox-node").colorbox({href:e(this).attr("href"),width:600,height:500,loop:!1,iframe:!0,title:!1,className:"report-box",close:"Закрыть",maxWidth:"99%"}),e(document).on("submit","#error_form",function(t){t.preventDefault(),e.ajax(e(this).attr("action"),{type:"post",data:e(this).serialize(),success:i})}),e(document).on("keydown",".select-city-input input, #front-page #google-search",function(t){if(38==t.keyCode||40==t.keyCode){var i=e(this).parents(".select-city-input").find("#drop-down-cities-block > .active");if(0==i.length)e(this).parents(".select-city-input").find("#drop-down-cities-block > span:first-child").addClass("active");else{if(38==t.keyCode){if(0==i.prev().length)return;i.prev().addClass("active"),i.removeClass("active")}if(40==t.keyCode){if(0==i.next().length)return;i.next().addClass("active"),i.removeClass("active")}}return t.stopPropagation(),!1}if(13==t.keyCode)return t.preventDefault(),!1}),e(document).on("click","#drop-down-cities-block > span",function(){window.location.href="/"+e(this).attr("data-url"),n.val(""),e("#drop-down-cities-block").html("")}),e(document).on("mouseover","#drop-down-cities-block > span",function(){e(this).siblings().removeClass("active"),e(this).addClass("active")}),"#front-page".length>0&&e.get("/ajax/regionsList",function(t){e("body").append('<div style="display: none">'+t+"</div>")}),e(document).on("keyup","#front-page #google-search, .select-city-input input",function(t){if(38==t.keyCode||40==t.keyCode)return!1;var i=e(this);if(13==t.keyCode&&(0!=e("#drop-down-cities-block > span.active").length?window.location.href="/"+e("#drop-down-cities-block > span.active").attr("data-url"):alert("Введите существующий город!"),i.val("")),""==i.val())return e("#drop-down-cities-block").html(""),!1;var n=i.val().toLowerCase(),o=[];e.each(window.regions_list,function(e,t){o.length<5&&-1!==t.name.toLowerCase().indexOf(n)&&o.push("<span data-url='"+t.url+"' value='"+t.name+"'>"+t.name+"</span>")}),e("#drop-down-cities-block").html(o.join("")),e(this).parent().find("#drop-down-cities-block > span:first-child").addClass("active")}),e(".show_search").click(function(){e(this).hide(),e(".search").show(),e(".hide_search").css("display","inline-block")}),e(".hide_search").click(function(){e(this).hide(),e(".search").hide(),e(".show_search").css("display","inline-block")}),e(".side_right nav .title").click(function(){e(document).width()<497&&(e(this).hasClass("active")?(e(this).removeClass("active"),e(this).siblings("ul").hide()):(e(this).addClass("active"),e(this).siblings("ul").show()))});t.init({container:".js-result-search-list",textContainer:".spoler-open",beginningWithNumber:5,notActiveClass:"hide-rubric"}),e("#street_select").on("change",function(){var t=e(this).val();fire_target("filter"),window.location=0!=t?window.location.pathname+"?улица="+t:window.location.pathname}),e("#district_select").on("change",function(){var t=e(this).val();fire_target("filter"),window.location=0!=t?window.location.pathname+"?район="+t:window.location.pathname}),e(".photos-load-form .bred").on("click",function(){e(".dropzone").show(),e(this).hide()});try{e(".city-select-link").colorbox({href:"/ajax/regionsList",width:1e3,height:800,maxWidth:"99%",opacity:.7,fixed:!0,loop:!1,title:!1,className:"tvoyafirma-cbox",closeButton:!0,onOpen:function(){e("#front-page #drop-down-cities-block").remove(),jQuery("#city-selector").focus()},onComplete:function(){jQuery("#city-selector").focus()}}),e(".gallery").colorbox({rel:"gal"})}catch(e){console.log("colorbox error")}if(e(".main_content .selected").on("click",function(){return!1}),e(".node-company-form").length>0){e(document).on("change",".firm-category-selector",function(){var t=e(this);e.getJSON("/ajax/user_company_category/"+t.val(),function(i){if(t.nextAll("select").remove(),i.length>0){var n=e("<select />",{class:"form-select firm-category-selector"});e.each(i,function(t,i){var o=e("<option />",{value:i.id,text:i.name});n.append(o)}),t.after(n),n.trigger("change")}})}),e(".add-category").click(function(){var t=e(this).closest(".categories-block").find("select:last"),i=t.find("option:selected").text();add_category(t.val(),i)});var n=e("#firm-keywords");n.on("keydown",function(t){if(38==t.keyCode||40==t.keyCode){var i=e(this).parent().find("#drop-down-keywords-block > .active");if(0==i.length)e(this).parent().find("#drop-down-keywords-block > span:first-child").addClass("active");else{if(38==t.keyCode){if(0==i.prev().length)return;i.prev().addClass("active"),i.removeClass("active")}if(40==t.keyCode){if(0==i.next().length)return;i.next().addClass("active"),i.removeClass("active")}}return t.stopPropagation(),!1}if(13==t.keyCode)return t.preventDefault(),!1}),e(document).on("click","#drop-down-keywords-block > span",function(){add_keyword(e(this).html()),n.val(""),e("#drop-down-keywords-block").html("")}),e(document).on("mouseover","#drop-down-keywords-block > span",function(){e(this).siblings().removeClass("active"),e(this).addClass("active")}),e(".add-keyword").on("click",function(){add_keyword(n.val())}),n.on("keyup",function(t){if(38==t.keyCode||40==t.keyCode)return!1;var i=e(this);if(13==t.keyCode&&(0!=e("#drop-down-keywords-block > span.active").length?add_keyword(e("#drop-down-keywords-block > span.active").html()):add_keyword(i.val()),i.val("")),""==i.val())return e("#drop-down-keywords-block").html(""),!1;var n=i.val();e.getJSON("/ajax/user_company_keywords/"+n,function(t){var i=[];e.each(t,function(e,t){i.push("<span value='"+t.name+"'>"+t.name+"</span>")}),e("#drop-down-keywords-block").html(i.join(""))})}),e(document).on("click",".form-list-remove",function(){e(this).closest(".form-list-item").remove()}),e("#firm-region").change(function(){var t=e(this);e(".firm-city-select").remove();var i=e("<select/>",{class:"form-select firm-city-select",name:"firm[cityid]"});e.getJSON("/ajax/user_company_region/"+t.val(),function(n){e.each(n,function(t,n){var o=e("<option />",{value:n.id,text:n.name});i.append(o)}),t.after(i),e(document).trigger("city-list-generated")})}),e(".clone-prev").click(function(){var t=e(this).prev();if(t.parent(".form-item").find("input").length>10)return alert("Не больше 10 значений");t.after(t.clone().val(""))}),e(".make-nonstop").change(function(){var t=e(this),i=t.closest(".work-row").find(".work-type");i.val("normal"),t.siblings(":not(.obed)").show(),t.parent().siblings(":not(.obed)").show(),t.is(":checked")&&(t.siblings().hide(),t.parent().siblings().hide(),t.siblings('label[for="'+t.prop("id")+'"]').show(),i.val("nonstop"))}),e(".make-rest").change(function(){var t=e(this),i=t.closest(".work-row").find(".work-type");i.val("normal"),t.parent().siblings(":not(.obed)").show(),t.siblings(":not(.obed)").show(),t.is(":checked")&&(t.siblings().hide(),t.parent().siblings().hide(),t.siblings('label[for="'+t.prop("id")+'"]').show(),i.val("rest"))}),e(".add-obed").click(function(){var t=e(this);t.siblings(".obed").show(),t.hide(),t.closest(".work-row").find(".work-type").val("normal_with_rest")}),e(".turn-off-obed").click(function(){var t=e(this).parent();t.hide(),t.siblings(".add-obed").show(),t.closest(".work-row").find(".work-type").val("normal")})}function o(){e("#overlay").hide(),e(".popUp").hide()}e(document).on("click",function(t){var i=e(t.target);!i.is(".towns-in-region.active")&&e(".towns-in-region").hasClass("active")&&(console.log(!i.is(".towns-in-region.active")),console.log(e(".towns-in-region").hasClass("active")),e(".towns-in-region").hide(),e(".towns-in-region").removeClass("active"))}),e(".select_city span").click(function(t){t.stopPropagation(),e(".towns-in-region").hasClass("active")?(e(".towns-in-region").removeClass("active"),e(".towns-in-region").hide()):(e(".towns-in-region").addClass("active"),e(".towns-in-region").show())}),e(".select_city .active").on("mouseleave",function(){e(".towns-in-region").hide(),e(".towns-in-region").removeClass("active")}),"#send-review"==window.location.hash&&setTimeout(function(){e(".reviews_block .add_review .button").click()},400),e(".reviews_block .add_review .button").click(function(){e(this).hasClass("active")?(e(this).removeClass("active"),e(".reviews_block form").hide(),e(this).text("Добавить отзыв")):(e(this).addClass("active"),e(".reviews_block form").show(),e(this).text("Свернуть форму"))}),e(".rating .button-reviews").click(function(){e(".reviews_block form").show(),e(".reviews_block .add_review .button").addClass("active"),e(".reviews_block .add_review .button").text("Свернуть форму")}),e("#reviews-company").find(".error").length>0&&e("#reviews-company form").show(),e('.reviews_block .form-radios [value="0"]').parent().eq(0).addClass("selected"),e(".reviews_block .form-radios .form-item label").click(function(){return e(this).parents(".form-radios").find(".selected").removeClass("selected"),e(this).parent().eq(0).addClass("selected"),e(this).parent().eq(0).find("input").attr("checked","checked"),e(this).parent().eq(0).find("input").prop("checked","checked"),!1}),e(".comment-form").on("submit",function(){e(".comment-form .form-submit").prop("disabled",!0)}),e(".mistakes").click(function(){e("#overlay").show(),e(".popUp").show()}),e(".lacation .zoom").on("click",function(){window.myMap.container.enterFullscreen()}),e(".comment-form .star-1").click(function(){e('[for="edit-field-emotion-und-2"]').click()}),e(".comment-form .star-3").click(function(){e('[for="edit-field-emotion-und-0"]').click()}),e(".comment-form .star-5").click(function(){e('[for="edit-field-emotion-und-1"]').click()}),e(".popUp .close").click(o),e("#overlay").click(o),e(".tabber_body").each(function(){e(this).find(".tab_content:first").addClass("current")}),e(".tabber_head .tab").click(function(){if(!e(this).hasClass("selected")){var t=e(this).index();return e(this).parent(".tabber_head").find(".selected").removeClass("selected"),e(this).addClass("selected"),e(this).parents(".tabber").find(".tabber_body").find(".current").hide().removeClass("current"),e(this).parents(".tabber").find(".tabber_body").find(".tab_content").eq(t).addClass("current").show(),!1}}),e(".page_nav a").click(function(){var t=e(this).attr("href").replace(/#/,""),i=e("a[name="+t+"]").offset().top;return e("html ,body").animate({scrollTop:i},800),!1}),e(".search .form-submit").click(function(){if(e('[name="city-search"]').length>0&&!City){var t=e('[name="city-search"]').val(),i=e(".search .form-text").val();n="site:",i.search(n)+1||e(".search .form-text").val("site:"+t+" "+i)}var n})});var t={init:function(t){for(var i=this,n=e(t.container),o=t.textContainer,s=t.beginningWithNumber,r=t.notActiveClass,a=0;a<n.length;a++){var l=e(n[a]).children(o);i.innerText(e(l),"Еще ("+i.countUpElements(n[a],s)+")","removeAttr"),i.hideListElements(n[a],s,r)}e(o).click(function(){if("innerText"===e(this).children().attr("data")){var t=i.countUpElements(e(this).parent(),s);i.hideListElements(e(this).parent(),s,r),i.innerText(this,"Еще("+t+")","removeAttr")}else i.showListElements(e(this).parent(),r),i.innerText(this,"скрыть")})},innerText:function(t,i,n){var o=e(t).children().text(i);"removeAttr"===n?e(o).removeAttr("data","innerText"):e(o).attr("data","innerText")},hideListElements:function(t,i,n){for(var o=e(t),s=0;s<o.length;s++)for(var r=e(o[s]).children(),a=i;a<r.length-1;a++)e(r[a]).addClass(n)},showListElements:function(t,i){for(var n=e(t),o=0;o<n.length;o++)for(var s=e(n[o]).children(),r=0;r<s.length;r++)e(s[r]).hasClass(i)&&e(s[r]).removeClass(i)},countUpElements:function(t,i){for(var n=e(t).children(),o=0,s=i;s<n.length-1;s++)o++;return o}};e(document).ready(function(){var t=e("#starfield");for(i=1;i<=5;++i){var a=e("<span></span>").addClass("star");a.mouseover(function(e){return function(t){s(e)}}(i)),a.click(function(e){return function(t){r(e)}}(i)),o.push(a),t.append(a)}t.mouseout(function(){s(n)}),e("#review_form").submit(function(t){return t.preventDefault(),0==n?(e("#starhint_box").removeClass().addClass("score"),!1):""==e("#field_name").val()?(e("#starhint_box").removeClass().addClass("name"),!1):(e.post(e(this).attr("action"),e(this).serialize(),function(t){var i,o;i=t,o="#tab_good",3==n&&(o="#tab_neutral"),n<3&&(o="#tab_bad"),e(o).append(i),e("#you_first").hide()}),void e(this).remove())})});var n=0,o=[];function s(t){var n="red";for(3==t&&(n="neutral"),t>3&&(n="green"),0==t&&(n=""),i=0;i<o.length;++i)star=o[i],star.removeClass(),t>i&&star.addClass(n);e("#starhint_box").removeClass().addClass(n)}function r(t){switch(n=t,e("#score").val(n),e(".form-item-field-emotion-und").removeClass("selected"),n){case 1:case 2:e("#edit-field-emotion-und-2").prop("checked",!0),e("#edit-field-emotion-und-2").closest(".form-item-field-emotion-und").addClass("selected");break;case 3:e("#edit-field-emotion-und-0").prop("checked",!0),e("#edit-field-emotion-und-0").closest(".form-item-field-emotion-und").addClass("selected");break;case 4:case 5:e("#edit-field-emotion-und-1").prop("checked",!0),e("#edit-field-emotion-und-1").closest(".form-item-field-emotion-und").addClass("selected")}}if(City){var a,l=".header__form";function c(t){var i;a?(i=t,e.ajax({url:"https://catalog.api.2gis.ru/2.0/suggest/list?key=rutnpt3272&region_id="+a.id+"&locale=ru_RU&q="+i,type:"GET",success:function(t){var i="";e.each(t.result.items,function(e,t){var n=t.hint.text;City.url&&(i+='<li><a href="/'+City.url+"/найти/"+n+'">'+n+"</a></li>")}),i="<ul>"+i+"</ul>",userInterface.liveSearchResult(i),e.post("/search/live",{result:t,city:City},function(){})}})):e.ajax({url:"https://catalog.api.2gis.ru/2.0/region/search?q="+City.lon+","+City.lat+"&key=ruoedw9225",type:"GET",success:function(e){e&&e.result&&e.result.items&&(a=e.result.items[0])}})}e(l).submit(function(e){return e.preventDefault(),!1}),e(l).find("input").keyup(function(t){if(e("#front-page-form").length>0)return!1;var i=e(this).val();e(l).find("input").val(i);var n=t.keyCode;if(13==n){var o=e("#search-autocomplete .active").attr("href");!o&&City.url&&"/"!==City.url&&(o="/"+City.url+"/найти/"+i),o&&(document.location.href=o),t.preventDefault()}i.length>2&&40!=n&&38!=n&&27!=n&&13!=n?c(i):(userInterface.searchHistorySelect(t),t.preventDefault())}),e(l).find("input").focusin(function(){c(e(this).val())})}}(jQuery),function(){var e,t,i,n,o,s,r,a,l=[].slice,c={}.hasOwnProperty;r=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,i,n,o;if(i=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},t=this._callbacks[i])for(n=0,o=t.length;n<o;n++)t[n].apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var i,n,o,s;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[e]))return this;if(1===arguments.length)return delete this._callbacks[e],this;for(n=o=0,s=i.length;o<s;n=++o)if(i[n]===t){i.splice(n,1);break}return this},e}(),(e=function(e){var i,n;function o(e,t){var n,s,r;if(this.element=e,this.version=o.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(o.instances.push(this),this.element.dropzone=this,n=null!=(r=o.optionsForElement(this.element))?r:{},this.options=i({},this.defaultOptions,n,null!=t?t:{}),this.options.forceFallback||!o.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=o.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=o.getElements(this.options.clickable,"clickable")),this.init()}return function(e,t){for(var i in t)c.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(o,t),o.prototype.Emitter=t,o.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],o.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,maxFilesize:20,acceptedFiles:"image/*",dictDefaultMessage:"Перенесите фотографии в это поле",dictInvalidFileType:"Вы можете загружать только фотографии",dictFileTooBig:"Максимальный размер фотографии: 20мб",dictResponseError:"Ошибка сервера",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return r},forceFallback:!1,fallback:function(){var e,t,i,n,s,r;for(this.element.className=this.element.className+" dz-browser-not-supported",n=0,s=(r=this.element.getElementsByTagName("div")).length;n<s;n++)e=r[n],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=o.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),(i=t.getElementsByTagName("span")[0])&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>n?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:r,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:r,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,n,s,r,a,l,c,u,h,d,f,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=o.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),n=0,a=(u=e.previewElement.querySelectorAll("[data-dz-name]")).length;n<a;n++)u[n].textContent=e.name;for(s=0,l=(h=e.previewElement.querySelectorAll("[data-dz-size]")).length;s<l;s++)h[s].innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=o.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),p=this,t=function(t){return t.preventDefault(),t.stopPropagation(),e.status===o.UPLOADING?o.confirm(p.options.dictCancelUploadConfirmation,function(){return p.removeFile(e)}):p.options.dictRemoveFileConfirmation?o.confirm(p.options.dictRemoveFileConfirmation,function(){return p.removeFile(e)}):p.removeFile(e)},f=[],r=0,c=(d=e.previewElement.querySelectorAll("[data-dz-remove]")).length;r<c;r++)i=d[r],f.push(i.addEventListener("click",t));return f}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,o,s;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),n=0,o=(s=e.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;n<o;n++)(i=s[n]).alt=e.name,i.src=t;return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){var i,n,o,s,r;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),r=[],n=0,o=(s=e.previewElement.querySelectorAll("[data-dz-errormessage]")).length;n<o;n++)i=s[n],r.push(i.textContent=t);return r}},errormultiple:r,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:r,uploadprogress:function(e,t,i){var n,o,s,r,a;if(e.previewElement){for(a=[],o=0,s=(r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;o<s;o++)"PROGRESS"===(n=r[o]).nodeName?a.push(n.value=t):a.push(n.style.width=t+"%");return a}},totaluploadprogress:r,sending:r,sendingmultiple:r,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:r,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:r,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:r,maxfilesexceeded:r,maxfilesreached:r,queuecomplete:r,addedfiles:r,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},i=function(){var e,t,i,n,o,s,r;for(n=arguments[0],s=0,r=(i=2<=arguments.length?l.call(arguments,1):[]).length;s<r;s++)for(e in t=i[s])o=t[e],n[e]=o;return n},o.prototype.getAcceptedFiles=function(){var e,t,i,n,o;for(o=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted&&o.push(e);return o},o.prototype.getRejectedFiles=function(){var e,t,i,n,o;for(o=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted||o.push(e);return o},o.prototype.getFilesWithStatus=function(e){var t,i,n,o,s;for(s=[],i=0,n=(o=this.files).length;i<n;i++)(t=o[i]).status===e&&s.push(t);return s},o.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(o.QUEUED)},o.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(o.UPLOADING)},o.prototype.getAddedFiles=function(){return this.getFilesWithStatus(o.ADDED)},o.prototype.getActiveFiles=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).status!==o.UPLOADING&&e.status!==o.QUEUED||s.push(e);return s},o.prototype.init=function(){var e,t,i,n,s,r,a,l;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(o.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(l=this,(i=function(){return l.hiddenFileInput&&l.hiddenFileInput.parentNode.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null==l.options.maxFiles||l.options.maxFiles>1)&&l.hiddenFileInput.setAttribute("multiple","multiple"),l.hiddenFileInput.className="dz-hidden-input",null!=l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),null!=l.options.capture&&l.hiddenFileInput.setAttribute("capture",l.options.capture),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.querySelector(l.options.hiddenInputContainer).appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",function(){var e,t,n,o;if((t=l.hiddenFileInput.files).length)for(n=0,o=t.length;n<o;n++)e=t[n],l.addFile(e);return l.emit("addedfiles",t),i()})})()),this.URL=null!=(r=window.URL)?r:window.webkitURL,n=0,s=(a=this.events).length;n<s;n++)e=a[n],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(i){return t(i),e.emit("dragenter",i)}}(this),dragover:function(e){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(e){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",t(i),e.emit("dragover",i)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(i){return t(i),e.drop(i)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(i){return(t!==e.element||i.target===e.element||o.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},o.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,o.instances.splice(o.instances.indexOf(this),1)},o.prototype.updateTotalUploadProgress=function(){var e,t,i,n,o,s,r;if(i=0,t=0,this.getActiveFiles().length){for(o=0,s=(r=this.getActiveFiles()).length;o<s;o++)i+=(e=r[o]).upload.bytesSent,t+=e.upload.total;n=100*i/t}else n=100;return this.emit("totaluploadprogress",n,t,i)},o.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},o.prototype.getFallbackForm=function(){var e,t,i,n;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=o.createElement(i),"FORM"!==this.element.tagName?(n=o.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(t):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:t)},o.prototype.getExistingFallback=function(){var e,t,i,n,o,s;for(t=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},n=0,o=(s=["div","form"]).length;n<o;n++)if(i=s[n],e=t(this.element.getElementsByTagName(i)))return e},o.prototype.setupEventListeners=function(){var e,t,i,n,o,s,r;for(r=[],n=0,o=(s=this.listeners).length;n<o;n++)e=s[n],r.push(function(){var n,o;for(t in o=[],n=e.events)i=n[t],o.push(e.element.addEventListener(t,i,!1));return o}());return r},o.prototype.removeEventListeners=function(){var e,t,i,n,o,s,r;for(r=[],n=0,o=(s=this.listeners).length;n<o;n++)e=s[n],r.push(function(){var n,o;for(t in o=[],n=e.events)i=n[t],o.push(e.element.removeEventListener(t,i,!1));return o}());return r},o.prototype.disable=function(){var e,t,i,n,o;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),o=[],t=0,i=(n=this.files).length;t<i;t++)e=n[t],o.push(this.cancelUpload(e));return o},o.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},o.prototype.filesize=function(e){var t,i,n,o,s,r,a;if(i=0,n="b",e>0){for(t=r=0,a=(s=["TB","GB","MB","KB","b"]).length;r<a;t=++r)if(o=s[t],e>=Math.pow(this.options.filesizeBase,4-t)/10){i=e/Math.pow(this.options.filesizeBase,4-t),n=o;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+n},o.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},o.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&((i=e.dataTransfer.items)&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},o.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),(t=e.clipboardData.items).length?this._addFilesFromItems(t):void 0},o.prototype.handleFiles=function(e){var t,i,n,o;for(o=[],i=0,n=e.length;i<n;i++)t=e[i],o.push(this.addFile(t));return o},o.prototype._addFilesFromItems=function(e){var t,i,n,o,s;for(s=[],n=0,o=e.length;n<o;n++)null!=(i=e[n]).webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?s.push(this.addFile(i.getAsFile())):t.isDirectory?s.push(this._addFilesFromDirectory(t,t.name)):s.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?s.push(this.addFile(i.getAsFile())):s.push(void 0);return s},o.prototype._addFilesFromDirectory=function(e,t){var i,n,o;return i=e.createReader(),o=this,n=function(e){var i,n,s;for(n=0,s=e.length;n<s;n++)(i=e[n]).isFile?i.file(function(e){if(!o.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,o.addFile(e)}):i.isDirectory&&o._addFilesFromDirectory(i,t+"/"+i.name)},i.readEntries(n,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},o.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):o.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},o.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=o.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(t=this,function(i){return i?(e.accepted=!1,t._errorProcessing([e],i)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}));var t},o.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)t=e[i],this.enqueueFile(t);return null},o.prototype.enqueueFile=function(e){if(e.status!==o.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=o.QUEUED,this.options.autoProcessQueue)return setTimeout((t=this,function(){return t.processQueue()}),0);var t},o.prototype._thumbnailQueue=[],o.prototype._processingThumbnail=!1,o.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((t=this,function(){return t._processThumbnailQueue()}),0);var t},o.prototype._processThumbnailQueue=function(){var e;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(e=this,function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}))},o.prototype.removeFile=function(e){if(e.status===o.UPLOADING&&this.cancelUpload(e),this.files=a(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},o.prototype.removeAllFiles=function(e){var t,i,n,s;for(null==e&&(e=!1),i=0,n=(s=this.files.slice()).length;i<n;i++)((t=s[i]).status!==o.UPLOADING||e)&&this.removeFile(t);return null},o.prototype.createThumbnail=function(e,t){var i,n;return(i=new FileReader).onload=(n=this,function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,i.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,i.result,t)}),i.readAsDataURL(e)},o.prototype.createThumbnailFromUrl=function(e,t,i,n){var o,r;return o=document.createElement("img"),n&&(o.crossOrigin=n),o.onload=(r=this,function(){var t,n,a,l,c,u,h,d;if(e.width=o.width,e.height=o.height,null==(a=r.options.resize.call(r,e)).trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),n=(t=document.createElement("canvas")).getContext("2d"),t.width=a.trgWidth,t.height=a.trgHeight,s(n,o,null!=(c=a.srcX)?c:0,null!=(u=a.srcY)?u:0,a.srcWidth,a.srcHeight,null!=(h=a.trgX)?h:0,null!=(d=a.trgY)?d:0,a.trgWidth,a.trgHeight),l=t.toDataURL("image/png"),r.emit("thumbnail",e,l),null!=i)return i()}),null!=i&&(o.onerror=i),o.src=t},o.prototype.processQueue=function(){var e,t,i,n;if(t=this.options.parallelUploads,e=i=this.getUploadingFiles().length,!(i>=t)&&(n=this.getQueuedFiles()).length>0){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;e<t;){if(!n.length)return;this.processFile(n.shift()),e++}}},o.prototype.processFile=function(e){return this.processFiles([e])},o.prototype.processFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)(t=e[i]).processing=!0,t.status=o.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},o.prototype._getFilesWithXhr=function(e){var t;return function(){var i,n,o,s;for(s=[],i=0,n=(o=this.files).length;i<n;i++)(t=o[i]).xhr===e&&s.push(t);return s}.call(this)},o.prototype.cancelUpload=function(e){var t,i,n,s,r,a,l;if(e.status===o.UPLOADING){for(n=0,r=(i=this._getFilesWithXhr(e.xhr)).length;n<r;n++)(t=i[n]).status=o.CANCELED;for(e.xhr.abort(),s=0,a=i.length;s<a;s++)t=i[s],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(l=e.status)!==o.ADDED&&l!==o.QUEUED||(e.status=o.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},n=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},o.prototype.uploadFile=function(e){return this.uploadFiles([e])},o.prototype.uploadFiles=function(e){var t,s,r,a,l,c,u,h,d,f,p,m,v,g,y,b,w,x,C,k,S,E,T,I,F,A,R,_,D,M,$,L,O,P;for(x=new XMLHttpRequest,C=0,T=e.length;C<T;C++)(t=e[C]).xhr=x;for(a in m=n(this.options.method,e),b=n(this.options.url,e),x.open(m,b,!0),x.withCredentials=!!this.options.withCredentials,g=null,P=this,r=function(){var i,n,o;for(o=[],i=0,n=e.length;i<n;i++)t=e[i],o.push(P._errorProcessing(e,g||P.options.dictResponseError.replace("{{statusCode}}",x.status),x));return o},y=function(i){return function(n){var o,s,r,a,l,c,u,h,d;if(null!=n)for(s=100*n.loaded/n.total,r=0,c=e.length;r<c;r++)(t=e[r]).upload={progress:s,total:n.total,bytesSent:n.loaded};else{for(o=!0,s=100,a=0,u=e.length;a<u;a++)100===(t=e[a]).upload.progress&&t.upload.bytesSent===t.upload.total||(o=!1),t.upload.progress=s,t.upload.bytesSent=t.upload.total;if(o)return}for(d=[],l=0,h=e.length;l<h;l++)t=e[l],d.push(i.emit("uploadprogress",t,s,t.upload.bytesSent));return d}}(this),x.onload=function(t){return function(i){var n;if(e[0].status!==o.CANCELED&&4===x.readyState){if(g=x.responseText,x.getResponseHeader("content-type")&&~x.getResponseHeader("content-type").indexOf("application/json"))try{g=JSON.parse(g)}catch(e){i=e,g="Invalid JSON response from server."}return y(),200<=(n=x.status)&&n<300?t._finished(e,g,i):r()}}}(this),x.onerror=function(){if(e[0].status!==o.CANCELED)return r()},(null!=(_=x.upload)?_:x).onprogress=y,c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(c,this.options.headers),c)(l=c[a])&&x.setRequestHeader(a,l);if(s=new FormData,this.options.params)for(p in D=this.options.params)w=D[p],s.append(p,w);for(k=0,I=e.length;k<I;k++)t=e[k],this.emit("sending",t,x,s);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,x,s),"FORM"===this.element.tagName)for(S=0,F=(M=this.element.querySelectorAll("input, textarea, select, button")).length;S<F;S++)if(d=(h=M[S]).getAttribute("name"),f=h.getAttribute("type"),"SELECT"===h.tagName&&h.hasAttribute("multiple"))for(E=0,A=($=h.options).length;E<A;E++)(v=$[E]).selected&&s.append(d,v.value);else(!f||"checkbox"!==(L=f.toLowerCase())&&"radio"!==L||h.checked)&&s.append(d,h.value);for(u=R=0,O=e.length-1;0<=O?R<=O:R>=O;u=0<=O?++R:--R)s.append(this._getParamName(u),e[u],e[u].name);return this.submitRequest(x,s,e)},o.prototype.submitRequest=function(e,t,i){return e.send(t)},o.prototype._finished=function(e,t,i){var n,s,r;for(s=0,r=e.length;s<r;s++)(n=e[s]).status=o.SUCCESS,this.emit("success",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},o.prototype._errorProcessing=function(e,t,i){var n,s,r;for(s=0,r=e.length;s<r;s++)(n=e[s]).status=o.ERROR,this.emit("error",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},o}()).version="4.2.0",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[i(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,i,n,o,s,r;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],(t=function(e){var t,i,o,s;for(s=[],i=0,o=e.length;i<o;i++)t=e[i],/(^| )dropzone($| )/.test(t.className)?s.push(n.push(t)):s.push(void 0);return s})(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),r=[],o=0,s=n.length;o<s;o++)i=n[o],!1!==e.optionsForElement(i)?r.push(new e(i)):r.push(void 0);return r},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,i,n,o;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(i=0,n=(o=e.blacklistedBrowsers).length;i<n;i++)o[i].test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},a=function(e,t){var i,n,o,s;for(s=[],n=0,o=e.length;n<o;n++)(i=e[n])!==t&&s.push(i);return s},i=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},e.getElements=function(e,t){var i,n,o,s,r,a,l;if(e instanceof Array){n=[];try{for(o=0,r=e.length;o<r;o++)i=e[o],n.push(this.getElement(i,t))}catch(e){e,n=null}}else if("string"==typeof e)for(n=[],s=0,a=(l=document.querySelectorAll(e)).length;s<a;s++)i=l[s],n.push(i);else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},e.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},e.isValidFile=function(e,t){var i,n,o,s,r;if(!t)return!0;for(t=t.split(","),i=(n=e.type).replace(/\/.*$/,""),s=0,r=t.length;s<r;s++)if("."===(o=(o=t[s]).trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(o.toLowerCase(),e.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(i===o.replace(/\/.*$/,""))return!0}else if(n===o)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",o=function(e){var t,i,n,o,s,r,a,l;for(e.naturalWidth,s=e.naturalHeight,(t=document.createElement("canvas")).width=1,t.height=s,(i=t.getContext("2d")).drawImage(e,0,0),n=i.getImageData(0,0,1,s).data,l=0,o=s,r=s;r>l;)0===n[4*(r-1)+3]?o=r:l=r,r=o+l>>1;return 0===(a=r/s)?1:a},s=function(e,t,i,n,s,r,a,l,c,u){var h;return h=o(t),e.drawImage(t,i,n,s,r,a,l,c,u/h)},n=function(e,t){var i,n,o,s,r,a,l,c,u;if(o=!1,u=!0,n=e.document,c=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",s=function(i){if("readystatechange"!==i.type||"complete"===n.readyState)return("load"===i.type?e:n)[l](a+i.type,s,!1),!o&&(o=!0)?t.call(e,i.type||i):void 0},r=function(){try{c.doScroll("left")}catch(e){return e,void setTimeout(r,50)}return s("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{u=!e.frameElement}catch(e){}u&&r()}return n[i](a+"DOMContentLoaded",s,!1),n[i](a+"readystatechange",s,!1),e[i](a+"load",s,!1)}},e._autoDiscoverFunction=function(){if(e.autoDiscover)return e.discover()},n(window,e._autoDiscoverFunction)}.call(this),jQuery(document).ready(function(){jQuery("#footer_social_buttons").html('<a title="ТвояФирма в ВКонтакте" target="_blank" rel="nofollow"     href="http://vk.com/TvoyaFirma"><img src="/asset/images/vk.png"/></a>         <a title="ТвояФирма в Facebook" target="_blank" rel="nofollow"     href="https://www.facebook.com/TvoyaFirma"><img     src="/asset/images/fb.png"/></a>         <a title="ТвояФирма в Twitter" target="_blank" rel="nofollow"     href="https://twitter.com/TvoyaFirma"><img     src="/asset/images/tw.png"/></a>'),jQuery("#footer_help_link").html('<div class="column">        <a rel="nofollow" href="/правила-публикации"    title="Правила публикации — справочник предприятий «Твоя Фирма» ">Правила    публикации</a>    <a rel="nofollow" href="/написать-нам" style="font-weight: bold">Написать администрации сайта</a>    </div>    <div class="column">        <a rel="nofollow" title="Добавить компанию в справочник ТвояФирма.рф"    href="/добавить-компанию">Добавить компанию</a>    <a rel="nofollow" title="Пользовательское соглашение ТвояФирма.рф"    href="/пользовательское-соглашение">Пользовательское соглашение</a>    </div>'),jQuery("#footer_copyright_link").html('<a href="/" title="Адреса, реквизиты, схемы проезда организаций на  сайте ТвояФирма.РФ">ТвояФирма.РФ</a>')}),jQuery(window).scroll(function(){jQuery(window).scrollTop()>jQuery("header").outerHeight()?jQuery("header").addClass("header-fixed"):jQuery("header").removeClass("header-fixed")});for(var e="article,aside,figcaption,figure,footer,header,main,hgroup,nav,section,time".split(","),i=0;i<e.length;i++)document.createElement(e[i]);!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t,i,n=[],o=e(document),s=navigator.userAgent.toLowerCase(),r=e(window),a=[],l=null,c=/msie/.test(s)&&!/opera/.test(s),u=/opera/.test(s);t=c&&/msie 6./.test(s)&&"object"!=typeof window.XMLHttpRequest,i=c&&/msie 7.0/.test(s),e.modal=function(t,i){return e.modal.impl.init(t,i)},e.modal.close=function(){e.modal.impl.close()},e.modal.focus=function(t){e.modal.impl.focus(t)},e.modal.setContainerDimensions=function(){e.modal.impl.setContainerDimensions()},e.modal.setPosition=function(){e.modal.impl.setPosition()},e.modal.update=function(t,i){e.modal.impl.update(t,i)},e.fn.modal=function(t){return e.modal.impl.init(this,t)},e.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null},e.modal.impl={d:{},init:function(t,i){if(this.d.data)return!1;if(l=c&&!e.support.boxModel,this.o=e.extend({},e.modal.defaults,i),this.zIndex=this.o.zIndex,this.occb=!1,"object"==typeof t)t=t instanceof e?t:e(t),this.d.placeholder=!1,0<t.parent().parent().size()&&(t.before(e("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),this.d.placeholder=!0,this.display=t.css("display"),!this.o.persist)&&(this.d.orig=t.clone(!0));else{if("string"!=typeof t&&"number"!=typeof t)return alert("SimpleModal Error: Unsupported data type: "+typeof t),this;t=e("<div></div>").html(t)}return this.create(t),this.open(),e.isFunction(this.o.onShow)&&this.o.onShow.apply(this,[this.d]),this},create:function(i){this.getDimensions(),this.o.modal&&t&&(this.d.iframe=e('<iframe src="javascript:false;"></iframe>').css(e.extend(this.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:a[0],width:a[1],zIndex:this.o.zIndex,top:0,left:0})).appendTo(this.o.appendTo)),this.d.overlay=e("<div></div>").attr("id",this.o.overlayId).addClass("simplemodal-overlay").css(e.extend(this.o.overlayCss,{display:"none",opacity:this.o.opacity/100,height:this.o.modal?n[0]:0,width:this.o.modal?n[1]:0,position:"fixed",left:0,top:0,zIndex:this.o.zIndex+1})).appendTo(this.o.appendTo),this.d.container=e("<div></div>").attr("id",this.o.containerId).addClass("simplemodal-container").css(e.extend({position:this.o.fixed?"fixed":"absolute"},this.o.containerCss,{display:"none",zIndex:this.o.zIndex+2})).append(this.o.close&&this.o.closeHTML?e(this.o.closeHTML).addClass(this.o.closeClass):"").appendTo(this.o.appendTo),this.d.wrap=e("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(this.d.container),this.d.data=i.attr("id",i.attr("id")||this.o.dataId).addClass("simplemodal-data").css(e.extend(this.o.dataCss,{display:"none"})).appendTo("body"),this.setContainerDimensions(),this.d.data.appendTo(this.d.wrap),(t||l)&&this.fixIE()},bindEvents:function(){var i=this;e("."+i.o.closeClass).bind("click.simplemodal",function(e){e.preventDefault(),i.close()}),i.o.modal&&i.o.close&&i.o.overlayClose&&i.d.overlay.bind("click.simplemodal",function(e){e.preventDefault(),i.close()}),o.bind("keydown.simplemodal",function(e){i.o.modal&&9===e.keyCode?i.watchTab(e):i.o.close&&i.o.escClose&&27===e.keyCode&&(e.preventDefault(),i.close())}),r.bind("resize.simplemodal orientationchange.simplemodal",function(){i.getDimensions(),i.o.autoResize?i.setContainerDimensions():i.o.autoPosition&&i.setPosition(),t||l?i.fixIE():i.o.modal&&(i.d.iframe&&i.d.iframe.css({height:a[0],width:a[1]}),i.d.overlay.css({height:n[0],width:n[1]}))})},unbindEvents:function(){e("."+this.o.closeClass).unbind("click.simplemodal"),o.unbind("keydown.simplemodal"),r.unbind(".simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var t=this.o.position;e.each([this.d.iframe||null,this.o.modal?this.d.overlay:null,"fixed"===this.d.container.css("position")?this.d.container:null],function(e,i){if(i){var n,o,s=i[0].style;if(s.position="absolute",2>e)s.removeExpression("height"),s.removeExpression("width"),s.setExpression("height",'document.body.scrollHeight > document.body.clientHeight ? document.body.scrollHeight : document.body.clientHeight + "px"'),s.setExpression("width",'document.body.scrollWidth > document.body.clientWidth ? document.body.scrollWidth : document.body.clientWidth + "px"');else t&&t.constructor===Array?(n=-1===(n=t[0]?"number"==typeof t[0]?t[0].toString():t[0].replace(/px/,""):i.css("top").replace(/px/,"")).indexOf("%")?n+' + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"':parseInt(n.replace(/%/,""))+' * ((document.documentElement.clientHeight || document.body.clientHeight) / 100) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',t[1]&&(o=-1===(o="number"==typeof t[1]?t[1].toString():t[1].replace(/px/,"")).indexOf("%")?o+' + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"':parseInt(o.replace(/%/,""))+' * ((document.documentElement.clientWidth || document.body.clientWidth) / 100) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"')):(n='(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',o='(document.documentElement.clientWidth || document.body.clientWidth) / 2 - (this.offsetWidth / 2) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"'),s.removeExpression("top"),s.removeExpression("left"),s.setExpression("top",n),s.setExpression("left",o)}})},focus:function(t){var i=this,n=(t=t&&-1!==e.inArray(t,["first","last"])?t:"first",e(":input:enabled:visible:"+t,i.d.wrap));setTimeout(function(){0<n.length?n.focus():i.d.wrap.focus()},10)},getDimensions:function(){var e=void 0===window.innerHeight?r.height():window.innerHeight;n=[o.height(),o.width()],a=[e,r.width()]},getVal:function(e,t){return e?"number"==typeof e?e:"auto"===e?0:0<e.indexOf("%")?parseInt(e.replace(/%/,""))/100*("h"===t?a[0]:a[1]):parseInt(e.replace(/px/,"")):null},update:function(e,t){if(!this.d.data)return!1;this.d.origHeight=this.getVal(e,"h"),this.d.origWidth=this.getVal(t,"w"),this.d.data.hide(),e&&this.d.container.css("height",e),t&&this.d.container.css("width",t),this.setContainerDimensions(),this.d.data.show(),this.o.focus&&this.focus(),this.unbindEvents(),this.bindEvents()},setContainerDimensions:function(){var e=t||i,n=this.d.origHeight?this.d.origHeight:u?this.d.container.height():this.getVal(e?this.d.container[0].currentStyle.height:this.d.container.css("height"),"h"),o=(e=this.d.origWidth?this.d.origWidth:u?this.d.container.width():this.getVal(e?this.d.container[0].currentStyle.width:this.d.container.css("width"),"w"),this.d.data.outerHeight(!0)),s=this.d.data.outerWidth(!0);this.d.origHeight=this.d.origHeight||n,this.d.origWidth=this.d.origWidth||e;var r=this.o.maxHeight?this.getVal(this.o.maxHeight,"h"):null,l=this.o.maxWidth?this.getVal(this.o.maxWidth,"w"):null,c=(r=r&&r<a[0]?r:a[0],l=l&&l<a[1]?l:a[1],this.o.minHeight?this.getVal(this.o.minHeight,"h"):"auto");n=n?this.o.autoResize&&n>r?r:n<c?c:n:o?o>r?r:this.o.minHeight&&"auto"!==c&&o<c?c:o:c,r=this.o.minWidth?this.getVal(this.o.minWidth,"w"):"auto",e=e?this.o.autoResize&&e>l?l:e<r?r:e:s?s>l?l:this.o.minWidth&&"auto"!==r&&s<r?r:s:r;this.d.container.css({height:n,width:e}),this.d.wrap.css({overflow:o>n||s>e?"auto":"visible"}),this.o.autoPosition&&this.setPosition()},setPosition:function(){var e,t;e=a[0]/2-this.d.container.outerHeight(!0)/2,t=a[1]/2-this.d.container.outerWidth(!0)/2;var i="fixed"!==this.d.container.css("position")?r.scrollTop():0;this.o.position&&"[object Array]"===Object.prototype.toString.call(this.o.position)?(e=i+(this.o.position[0]||e),t=this.o.position[1]||t):e=i+e,this.d.container.css({left:t,top:e})},watchTab:function(t){0<e(t.target).parents(".simplemodal-container").length?(this.inputs=e(":input:enabled:visible:first, :input:enabled:visible:last",this.d.data[0]),(!t.shiftKey&&t.target===this.inputs[this.inputs.length-1]||t.shiftKey&&t.target===this.inputs[0]||0===this.inputs.length)&&(t.preventDefault(),this.focus(t.shiftKey?"last":"first"))):(t.preventDefault(),this.focus())},open:function(){this.d.iframe&&this.d.iframe.show(),e.isFunction(this.o.onOpen)?this.o.onOpen.apply(this,[this.d]):(this.d.overlay.show(),this.d.container.show(),this.d.data.show()),this.o.focus&&this.focus(),this.bindEvents()},close:function(){if(!this.d.data)return!1;if(this.unbindEvents(),e.isFunction(this.o.onClose)&&!this.occb)this.occb=!0,this.o.onClose.apply(this,[this.d]);else{if(this.d.placeholder){var t=e("#simplemodal-placeholder");this.o.persist?t.replaceWith(this.d.data.removeClass("simplemodal-data").css("display",this.display)):(this.d.data.hide().remove(),t.replaceWith(this.d.orig))}else this.d.data.hide().remove();this.d.container.hide().remove(),this.d.overlay.hide(),this.d.iframe&&this.d.iframe.hide().remove(),this.d.overlay.remove(),this.d={}}}}}),function(e){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){var t=e[0];return t.offsetWidth>0&&t.offsetHeight>0}function i(t){if(t.minTime&&(t.minTime=b(t.minTime)),t.maxTime&&(t.maxTime=b(t.maxTime)),t.durationTime&&"function"!=typeof t.durationTime&&(t.durationTime=b(t.durationTime)),"now"==t.scrollDefault)t.scrollDefault=function(){return t.roundingFunction(b(new Date),t)};else if(t.scrollDefault&&"function"!=typeof t.scrollDefault){var i=t.scrollDefault;t.scrollDefault=function(){return t.roundingFunction(b(i),t)}}else t.minTime&&(t.scrollDefault=function(){return t.roundingFunction(t.minTime,t)});if("string"===e.type(t.timeFormat)&&t.timeFormat.match(/[gh]/)&&(t._twelveHourTime=!0),!1===t.showOnFocus&&-1!=t.showOn.indexOf("focus")&&t.showOn.splice(t.showOn.indexOf("focus"),1),t.disableTimeRanges.length>0){for(var n in t.disableTimeRanges)t.disableTimeRanges[n]=[b(t.disableTimeRanges[n][0]),b(t.disableTimeRanges[n][1])];t.disableTimeRanges=t.disableTimeRanges.sort(function(e,t){return e[0]-t[0]});for(n=t.disableTimeRanges.length-1;n>0;n--)t.disableTimeRanges[n][0]<=t.disableTimeRanges[n-1][1]&&(t.disableTimeRanges[n-1]=[Math.min(t.disableTimeRanges[n][0],t.disableTimeRanges[n-1][0]),Math.max(t.disableTimeRanges[n][1],t.disableTimeRanges[n-1][1])],t.disableTimeRanges.splice(n,1))}return t}function n(t){var i=t.data("timepicker-settings"),n=t.data("timepicker-list");if(n&&n.length&&(n.remove(),t.data("timepicker-list",!1)),i.useSelect)var r=n=e("<select />",{class:"ui-timepicker-select"});else n=e("<ul />",{class:"ui-timepicker-list"}),(r=e("<div />",{class:"ui-timepicker-wrapper",tabindex:-1})).css({display:"none",position:"absolute"}).append(n);if(i.noneOption)if(!0===i.noneOption&&(i.noneOption=i.useSelect?"Time...":"None"),e.isArray(i.noneOption)){for(var l in i.noneOption)if(parseInt(l,10)==l){var u=o(i.noneOption[l],i.useSelect);n.append(u)}}else{u=o(i.noneOption,i.useSelect);n.append(u)}i.className&&r.addClass(i.className),null===i.minTime&&null===i.durationTime||!i.showDuration||("function"==typeof i.step||i.step,r.addClass("ui-timepicker-with-duration"),r.addClass("ui-timepicker-step-"+i.step));var h=i.minTime;"function"==typeof i.durationTime?h=b(i.durationTime()):null!==i.durationTime&&(h=i.durationTime);var f=null!==i.minTime?i.minTime:0,p=null!==i.maxTime?i.maxTime:f+w-1;f>p&&(p+=w),p===w-1&&"string"===e.type(i.timeFormat)&&i.show2400&&(p=w);var m=i.disableTimeRanges,x=0,k=m.length,S=i.step;"function"!=typeof S&&(S=function(){return i.step});l=f;for(var E=0;p>=l;l+=60*S(++E)){var T,I=l,F=y(I,i);if(i.useSelect)(T=e("<option />",{value:F})).text(F);else(T=e("<li />")).addClass(43200>I%86400?"ui-timepicker-am":"ui-timepicker-pm"),T.data("time",86400>=I?I:I%86400),T.text(F);if((null!==i.minTime||null!==i.durationTime)&&i.showDuration){var A=g(l-h,i.step);if(i.useSelect)T.text(T.text()+" ("+A+")");else{var R=e("<span />",{class:"ui-timepicker-duration"});R.text(" ("+A+")"),T.append(R)}}k>x&&(I>=m[x][1]&&(x+=1),m[x]&&I>=m[x][0]&&I<m[x][1]&&(i.useSelect?T.prop("disabled",!0):T.addClass("ui-timepicker-disabled"))),n.append(T)}if(r.data("timepicker-input",t),t.data("timepicker-list",r),i.useSelect)t.val()&&n.val(s(b(t.val()),i)),n.on("focus",function(){e(this).data("timepicker-input").trigger("showTimepicker")}),n.on("blur",function(){e(this).data("timepicker-input").trigger("hideTimepicker")}),n.on("change",function(){d(t,e(this).val(),"select")}),d(t,n.val(),"initial"),t.hide().after(n);else{var _=i.appendTo;"string"==typeof _?_=e(_):"function"==typeof _&&(_=_(t)),_.append(r),c(t,n),n.on("mousedown touchstart","li",function(i){t.off("focus.timepicker"),t.on("focus.timepicker-ie-hack",function(){t.off("focus.timepicker-ie-hack"),t.on("focus.timepicker",C.show)}),a(t)||t[0].focus(),n.find("li").removeClass("ui-timepicker-selected"),e(this).addClass("ui-timepicker-selected"),v(t)&&(t.trigger("hideTimepicker"),n.on("mouseup.timepicker touchend.timepicker","li",function(e){n.off("mouseup.timepicker touchend.timepicker"),r.hide()}))})}}function o(t,i){var n,o,s;return"object"==typeof t?(n=t.label,o=t.className,s=t.value):"string"==typeof t?n=t:e.error("Invalid noneOption value"),i?e("<option />",{value:s,class:o,text:n}):e("<li />",{class:o,text:n}).data("time",String(s))}function s(e,t){return null!==(e=t.roundingFunction(e,t))?y(e,t):void 0}function r(t){var i=e(t.target);0===i.closest(".ui-timepicker-input").length&&0===i.closest(".ui-timepicker-wrapper").length&&(C.hide(),e(document).unbind(".ui-timepicker"),e(window).unbind(".ui-timepicker"))}function a(e){var t=e.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&t.disableTouchKeyboard}function l(t,i,n){if(!n&&0!==n)return!1;var o=t.data("timepicker-settings"),s=!1;n=o.roundingFunction(n,o);return i.find("li").each(function(t,i){var o=e(i);if("number"==typeof o.data("time"))return o.data("time")==n?(s=o,!1):void 0}),s}function c(e,t){t.find("li").removeClass("ui-timepicker-selected");var i=b(h(e),e.data("timepicker-settings"));if(null!==i){var n=l(e,t,i);if(n){var o=n.offset().top-t.offset().top;(o+n.outerHeight()>t.outerHeight()||0>o)&&t.scrollTop(t.scrollTop()+n.position().top-n.outerHeight()),n.addClass("ui-timepicker-selected")}}}function u(t,i){if(""!==this.value&&"timepicker"!=i){var n=e(this);if(!n.is(":focus")||t&&"change"==t.type){var o=n.data("timepicker-settings"),s=b(this.value,o);if(null===s)return void n.trigger("timeFormatError");var r=!1;null!==o.minTime&&s<o.minTime&&null!==o.maxTime&&s>o.maxTime&&(r=!0),e.each(o.disableTimeRanges,function(){return s>=this[0]&&s<this[1]?(r=!0,!1):void 0}),o.forceRoundTime&&(s=o.roundingFunction(s,o));var a=y(s,o);r?d(n,a,"error")&&n.trigger("timeRangeError"):d(n,a)}}}function h(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function d(e,t,i){if(e.is("input")){e.val(t);var n=e.data("timepicker-settings");n.useSelect&&"select"!=i&&"initial"!=i&&e.data("timepicker-list").val(s(b(t),n))}return e.data("ui-timepicker-value")!=t?(e.data("ui-timepicker-value",t),"select"==i?e.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):"error"!=i&&e.trigger("changeTime"),!0):(e.trigger("selectTime"),!1)}function f(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault()}}function p(i){var n=e(this),o=n.data("timepicker-list");if(!o||!t(o)){if(40!=i.keyCode)return!0;C.show.call(n.get(0)),o=n.data("timepicker-list"),a(n)||n.focus()}switch(i.keyCode){case 13:return v(n)&&C.hide.apply(this),i.preventDefault(),!1;case 38:var s=o.find(".ui-timepicker-selected");return s.length?s.is(":first-child")||(s.removeClass("ui-timepicker-selected"),s.prev().addClass("ui-timepicker-selected"),s.prev().position().top<s.outerHeight()&&o.scrollTop(o.scrollTop()-s.outerHeight())):(o.find("li").each(function(t,i){return e(i).position().top>0?(s=e(i),!1):void 0}),s.addClass("ui-timepicker-selected")),!1;case 40:return 0===(s=o.find(".ui-timepicker-selected")).length?(o.find("li").each(function(t,i){return e(i).position().top>0?(s=e(i),!1):void 0}),s.addClass("ui-timepicker-selected")):s.is(":last-child")||(s.removeClass("ui-timepicker-selected"),s.next().addClass("ui-timepicker-selected"),s.next().position().top+2*s.outerHeight()>o.outerHeight()&&o.scrollTop(o.scrollTop()+s.outerHeight())),!1;case 27:o.find("li").removeClass("ui-timepicker-selected"),C.hide();break;case 9:C.hide();break;default:return!0}}function m(i){var n=e(this),o=n.data("timepicker-list"),s=n.data("timepicker-settings");if(!o||!t(o)||s.disableTextInput)return!0;switch(i.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:s.typeaheadHighlight?c(n,o):o.hide()}}function v(e){var t=e.data("timepicker-settings"),i=null,n=e.data("timepicker-list").find(".ui-timepicker-selected");return!n.hasClass("ui-timepicker-disabled")&&(n.length&&(i=n.data("time")),null!==i&&("string"!=typeof i&&(i=y(i,t)),d(e,i,"select")),!0)}function g(e,t){e=Math.abs(e);var i,n,o=Math.round(e/60),s=[];return 60>o?s=[o,x.mins]:(i=Math.floor(o/60),n=o%60,30==t&&30==n&&(i+=x.decimal+5),s.push(i),s.push(1==i?x.hr:x.hrs),30!=t&&n&&(s.push(n),s.push(x.mins))),s.join(" ")}function y(e,t){if("number"!=typeof e)return null;var i=parseInt(e%60),n=parseInt(e/60%60),o=parseInt(e/3600%24),s=new Date(1970,0,1,o,n,i,0);if(isNaN(s.getTime()))return null;for(var r,a,l="",c=0;c<t.timeFormat.length;c++)switch(a=t.timeFormat.charAt(c)){case"a":l+=s.getHours()>11?x.pm:x.am;break;case"A":l+=s.getHours()>11?x.PM:x.AM;break;case"g":l+=0===(r=s.getHours()%12)?"12":r;break;case"G":r=s.getHours(),e===w&&(r=t.show2400?24:0),l+=r;break;case"h":0!==(r=s.getHours()%12)&&10>r&&(r="0"+r),l+=0===r?"12":r;break;case"H":r=s.getHours(),e===w&&(r=t.show2400?24:0),l+=r>9?r:"0"+r;break;case"i":l+=(n=s.getMinutes())>9?n:"0"+n;break;case"s":l+=(i=s.getSeconds())>9?i:"0"+i;break;case"\\":c++,l+=t.timeFormat.charAt(c);break;default:l+=a}return l}function b(e,t){if(""===e)return null;if("object"==typeof e)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();if("string"!=typeof e)return e;("a"==(e=e.toLowerCase().replace(/[\s\.]/g,"")).slice(-1)||"p"==e.slice(-1))&&(e+="m");var i="("+x.am.replace(".","")+"|"+x.pm.replace(".","")+"|"+x.AM.replace(".","")+"|"+x.PM.replace(".","")+")?",n=new RegExp("^"+i+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+i+"$"),o=e.match(n);if(!o)return null;var s=parseInt(1*o[2],10),r=s>24?s%24:s,a=o[1]||o[5],l=r;if(12>=r&&a){var c=a==x.pm||a==x.PM;l=12==r?c?12:0:r+(c?12:0)}var u=3600*l+60*(1*o[3]||0)+(1*o[4]||0);if(12>r&&!a&&t&&t._twelveHourTime&&t.scrollDefault){var h=u-t.scrollDefault();0>h&&h>=w/-2&&(u=(u+w/2)%w)}return u}var w=86400,x={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},C={init:function(t){return this.each(function(){var o=e(this),s=[];for(var r in e.fn.timepicker.defaults)o.data(r)&&(s[r]=o.data(r));var a=e.extend({},e.fn.timepicker.defaults,s,t);if(a.lang&&(x=e.extend(x,a.lang)),a=i(a),o.data("timepicker-settings",a),o.addClass("ui-timepicker-input"),a.useSelect)n(o);else{if(o.prop("autocomplete","off"),a.showOn)for(var l in a.showOn)o.on(a.showOn[l]+".timepicker",C.show);o.on("change.timepicker",u),o.on("keydown.timepicker",p),o.on("keyup.timepicker",m),a.disableTextInput&&o.on("keydown.timepicker",f),u.call(o.get(0))}})},show:function(i){var o=e(this),s=o.data("timepicker-settings");if(i&&i.preventDefault(),s.useSelect)o.data("timepicker-list").focus();else{a(o)&&o.blur();var u=o.data("timepicker-list");if(!o.prop("readonly")&&(u&&0!==u.length&&"function"!=typeof s.durationTime||(n(o),u=o.data("timepicker-list")),!t(u))){o.data("ui-timepicker-value",o.val()),c(o,u),C.hide(),u.show();var d={};s.orientation.match(/r/)?d.left=o.offset().left+o.outerWidth()-u.outerWidth()+parseInt(u.css("marginLeft").replace("px",""),10):d.left=o.offset().left+parseInt(u.css("marginLeft").replace("px",""),10),"t"==(s.orientation.match(/t/)?"t":s.orientation.match(/b/)?"b":o.offset().top+o.outerHeight(!0)+u.outerHeight()>e(window).height()+e(window).scrollTop()?"t":"b")?(u.addClass("ui-timepicker-positioned-top"),d.top=o.offset().top-u.outerHeight()+parseInt(u.css("marginTop").replace("px",""),10)):(u.removeClass("ui-timepicker-positioned-top"),d.top=o.offset().top+o.outerHeight()+parseInt(u.css("marginTop").replace("px",""),10)),u.offset(d);var f=u.find(".ui-timepicker-selected");if(!f.length){var p=b(h(o));null!==p?f=l(o,u,p):s.scrollDefault&&(f=l(o,u,s.scrollDefault()))}if(f&&f.length){var m=u.scrollTop()+f.position().top-f.outerHeight();u.scrollTop(m)}else u.scrollTop(0);return s.stopScrollPropagation&&e(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(t){t.preventDefault();var i=e(this).scrollTop();e(this).scrollTop(i+t.originalEvent.deltaY)}),e(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",r),e(window).on("resize.ui-timepicker",r),s.closeOnWindowScroll&&e(document).on("scroll.ui-timepicker",r),o.trigger("showTimepicker"),this}}},hide:function(i){var n=e(this),o=n.data("timepicker-settings");return o&&o.useSelect&&n.blur(),e(".ui-timepicker-wrapper").each(function(){var i=e(this);if(t(i)){var n=i.data("timepicker-input"),o=n.data("timepicker-settings");o&&o.selectOnBlur&&v(n),i.hide(),n.trigger("hideTimepicker")}}),this},option:function(t,o){return"string"==typeof t&&void 0===o?e(this).data("timepicker-settings")[t]:this.each(function(){var s=e(this),r=s.data("timepicker-settings"),a=s.data("timepicker-list");"object"==typeof t?r=e.extend(r,t):"string"==typeof t&&(r[t]=o),r=i(r),s.data("timepicker-settings",r),a&&(a.remove(),s.data("timepicker-list",!1)),r.useSelect&&n(s)})},getSecondsFromMidnight:function(){return b(h(this))},getTime:function(e){var t=h(this);if(!t)return null;var i=b(t);if(null===i)return null;e||(e=new Date);var n=new Date(e);return n.setHours(i/3600),n.setMinutes(i%3600/60),n.setSeconds(i%60),n.setMilliseconds(0),n},setTime:function(e){var t=this,i=t.data("timepicker-settings");if(i.forceRoundTime)var n=s(b(e),i);else n=y(b(e),i);return e&&null===n&&i.noneOption&&(n=e),d(t,n),t.data("timepicker-list")&&c(t,t.data("timepicker-list")),this},remove:function(){var e=this;if(e.hasClass("ui-timepicker-input")){var t=e.data("timepicker-settings");return e.removeAttr("autocomplete","off"),e.removeClass("ui-timepicker-input"),e.removeData("timepicker-settings"),e.off(".timepicker"),e.data("timepicker-list")&&e.data("timepicker-list").remove(),t.useSelect&&e.show(),e.removeData("timepicker-list"),this}}};e.fn.timepicker=function(t){return this.length?C[t]?this.hasClass("ui-timepicker-input")?C[t].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.timepicker"):C.init.apply(this,arguments):this},e.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(e,t){if(null===e)return null;if("number"!=typeof t.step)return e;var i=e%(60*t.step);return i>=30*t.step?e+=60*t.step-i:e-=i,e==w&&t.show2400?e:e%w},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1}}),function(e,t){function i(t){return e.less[t.split("/")[1]]}var n,o;void 0!==e.less&&void 0===e.less.nodeType||(e.less={}),n=e.less,o=e.less.tree={},n.mode="browser",n===t&&(n=exports,o=i("./tree"),n.mode="node"),n.Parser=function(e){var s,r,a,l,c,u,h,d,f,p=[],m=e&&e.filename;e instanceof o.parseEnv||(e=new o.parseEnv(e));var v=this.imports={paths:e.paths||[],queue:[],files:e.files,contents:e.contents,contentsIgnoredChars:e.contentsIgnoredChars,mime:e.mime,error:null,push:function(t,i,s,r){var a=this;this.queue.push(t);var l=function(e,i,n){a.queue.splice(a.queue.indexOf(t),1);var o=n===m;a.files[n]=i,e&&!a.error&&(a.error=e),r(e,i,o,n)};n.Parser.importer?n.Parser.importer(t,i,l,e):n.Parser.fileLoader(t,i,function(t,r,a,c){if(t)l(t);else{var u=new o.parseEnv(e);u.currentFileInfo=c,u.processImports=!1,u.contents[a]=r,(i.reference||s.reference)&&(c.reference=!0),s.inline?l(null,r,a):new n.Parser(u).parse(r,function(e,t){l(e,t,a)})}},e)}};function g(){h=r,p.push({current:u,i:r,j:a})}function y(){var e=p.pop();u=e.current,h=r=e.i,a=e.j}function b(){p.pop()}function w(e,t){var i=e.charCodeAt(0|t);return i<=32&&(32===i||10===i||9===i)}function x(e){var t;return"string"===typeof e?s.charAt(r)!==e?null:(E(1),e):(r>h&&(u=u.slice(r-h),h=r),(t=e.exec(u))?(E(t[0].length),"string"==typeof t?t:1===t.length?t[0]:t):null)}function C(e){r>h&&(u=u.slice(r-h),h=r);var t=e.exec(u);return t?(E(t[0].length),"string"==typeof t?t:1===t.length?t[0]:t):null}var k=C;function S(e){return s.charAt(r)!==e?null:(E(1),e)}function E(e){for(var t,i=r,n=a,o=r-h,l=r+u.length-o,d=r+=e,f=s;r<l&&!((t=f.charCodeAt(r))>32)&&(32===t||10===t||9===t||13===t);r++);return u=u.slice(e+r-d+o),h=r,!u.length&&a<c.length-1?(u=c[++a],E(0),!0):i!==r||n!==a}function T(e,t,i){var n="[object Function]"===Object.prototype.toString.call(e)?e.call(f):x(e);if(n)return n;F(t||("string"==typeof e?"expected '"+e+"' got '"+s.charAt(r)+"'":"unexpected token"))}function I(e,t){if(s.charAt(r)===e)return E(1),e;F(t||"expected '"+e+"' got '"+s.charAt(r)+"'")}function F(e,t){var i=new Error(e);throw i.index=r,i.type=t||"Syntax",i}function A(e){return"string"==typeof e?s.charAt(r)===e:e.test(u)}function R(e){return s.charAt(r)===e}function _(e,t){return e.filename&&t.currentFileInfo.filename&&e.filename!==t.currentFileInfo.filename?d.imports.contents[e.filename]:s}function D(e,t){for(var i=e+1,n=null,o=-1;--i>=0&&"\n"!==t.charAt(i);)o++;return"number"==typeof e&&(n=(t.slice(0,e).match(/\n/g)||"").length),{line:n,column:o}}function M(e,t,o){var s=o.currentFileInfo.filename;return"browser"!==n.mode&&"rhino"!==n.mode&&(s=i("path").resolve(s)),{lineNumber:D(e,t).line+1,fileName:s}}function $(e,t){var i=_(e,t),n=D(e.index,i),o=n.line,s=n.column,r=e.call&&D(e.call,i).line,a=i.split("\n");this.type=e.type||"Syntax",this.message=e.message,this.filename=e.filename||t.currentFileInfo.filename,this.index=e.index,this.line="number"==typeof o?o+1:null,this.callLine=r+1,this.callExtract=a[r],this.stack=e.stack,this.column=s,this.extract=[a[o-1],a[o],a[o+1]]}return $.prototype=new Error,$.prototype.constructor=$,this.env=e=e||{},this.optimization="optimization"in this.env?this.env.optimization:1,d={imports:v,parse:function(f,p,m){var v,g,y,b,w,x,C=null,k="";if(r=a=h=l=0,b=m&&m.globalVars?n.Parser.serializeVars(m.globalVars)+"\n":"",w=m&&m.modifyVars?"\n"+n.Parser.serializeVars(m.modifyVars):"",(b||m&&m.banner)&&(k=(m&&m.banner?m.banner:"")+b,d.imports.contentsIgnoredChars[e.currentFileInfo.filename]=k.length),f=f.replace(/\r\n/g,"\n"),s=f=k+f.replace(/^\uFEFF/,"")+w,d.imports.contents[e.currentFileInfo.filename]=f,c=function(t){var i,n,o,s,r,a,l,c,u,h=t.length,d=0,f=0,p=[],m=0;function v(t,i){C=new $({index:i||r,type:"Parse",message:t,filename:e.currentFileInfo.filename},e)}function g(e){var i=r-m;i<512&&!e||!i||(p.push(t.slice(m,r+1)),m=r+1)}for(r=0;r<h;r++)if(!((l=t.charCodeAt(r))>=97&&l<=122||l<34))switch(l){case 40:f++,n=r;continue;case 41:if(--f<0)return v("missing opening `(`");continue;case 59:f||g();continue;case 123:d++,i=r;continue;case 125:if(--d<0)return v("missing opening `{`");d||f||g();continue;case 92:if(r<h-1){r++;continue}return v("unescaped `\\`");case 34:case 39:case 96:for(u=0,a=r,r+=1;r<h;r++)if(!((c=t.charCodeAt(r))>96)){if(c==l){u=1;break}if(92==c){if(r==h-1)return v("unescaped `\\`");r++}}if(u)continue;return v("unmatched `"+String.fromCharCode(l)+"`",a);case 47:if(f||r==h-1)continue;if(47==(c=t.charCodeAt(r+1)))for(r+=2;r<h&&(!((c=t.charCodeAt(r))<=13)||10!=c&&13!=c);r++);else if(42==c){for(o=a=r,r+=2;r<h-1&&(125==(c=t.charCodeAt(r))&&(s=r),42!=c||47!=t.charCodeAt(r+1));r++);if(r==h-1)return v("missing closing `*/`",a);r++}continue;case 42:if(r<h-1&&47==t.charCodeAt(r+1))return v("unmatched `/*`");continue}return 0!==d?v(o>i&&s>o?"missing closing `}` or `*/`":"missing closing `}`",i):0!==f?v("missing closing `)`",n):(g(!0),p)}(f),C)return p(new $(C,e));u=c[0];try{(v=new o.Ruleset(null,this.parsers.primary())).root=!0,v.firstRoot=!0}catch(t){return p(new $(t,e))}if(v.toCSS=(x=v.eval,function(s,r){s=s||{};var a,l,c=new o.evalEnv(s);"object"!=typeof r||Array.isArray(r)||(r=Object.keys(r).map(function(e){var t=r[e];return t instanceof o.Value||(t instanceof o.Expression||(t=new o.Expression([t])),t=new o.Value([t])),new o.Rule("@"+e,t,!1,null,0)}),c.frames=[new o.Ruleset(null,r)]);try{var u,h=[],f=[new o.joinSelectorVisitor,new o.processExtendsVisitor,new o.toCSSVisitor({compress:Boolean(s.compress)})];if(s.plugins)for(u=0;u<s.plugins.length;u++)s.plugins[u].isPreEvalVisitor?h.push(s.plugins[u]):s.plugins[u].isPreVisitor?f.splice(0,0,s.plugins[u]):f.push(s.plugins[u]);for(u=0;u<h.length;u++)h[u].run(this);for(a=x.call(this,c),u=0;u<f.length;u++)f[u].run(a);s.sourceMap&&(a=new o.sourceMapOutput({contentsIgnoredCharsMap:d.imports.contentsIgnoredChars,writeSourceMap:s.writeSourceMap,rootNode:a,contentsMap:d.imports.contents,sourceMapFilename:s.sourceMapFilename,sourceMapURL:s.sourceMapURL,outputFilename:s.sourceMapOutputFilename,sourceMapBasepath:s.sourceMapBasepath,sourceMapRootpath:s.sourceMapRootpath,outputSourceFiles:s.outputSourceFiles,sourceMapGenerator:s.sourceMapGenerator})),l=a.toCSS({compress:Boolean(s.compress),dumpLineNumbers:e.dumpLineNumbers,strictUnits:Boolean(s.strictUnits),numPrecision:8})}catch(t){throw new $(t,e)}if(s.cleancss&&"node"===n.mode){var p=i("clean-css"),m=s.cleancssOptions||{};return m.keepSpecialComments===t&&(m.keepSpecialComments="*"),m.processImport=!1,m.noRebase=!0,m.noAdvanced===t&&(m.noAdvanced=!0),new p(m).minify(l)}return s.compress?l.replace(/(^(\s)+)|((\s)+$)/g,""):l}),r<s.length-1){var S=D(r=l,s);y=s.split("\n"),g=S.line+1,C={type:"Parse",message:"Unrecognised input",index:r,filename:e.currentFileInfo.filename,line:g,column:S.column,extract:[y[g-2],y[g-1],y[g]]}}var E=function(t){return(t=C||t||d.imports.error)?(t instanceof $||(t=new $(t,e)),p(t)):p(null,v)};if(!1===e.processImports)return E();new o.importVisitor(this.imports,E).run(v)},parsers:f={primary:function(){for(var e,t=this.mixin,i=k,n=[];u;){if(e=this.extendRule()||t.definition()||this.rule()||this.ruleset()||t.call()||this.comment()||this.rulesetCall()||this.directive())n.push(e);else if(!i(/^[\s\n]+/)&&!i(/^;+/))break;if(R("}"))break}return n},comment:function(){var t;if("/"===s.charAt(r))return"/"===s.charAt(r+1)?new o.Comment(C(/^\/\/.*/),!0,r,e.currentFileInfo):(t=C(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/))?new o.Comment(t,!1,r,e.currentFileInfo):void 0},comments:function(){for(var e,t=[];e=this.comment();)t.push(e);return t},entities:{quoted:function(){var t,i,n=r,a=r;if("~"===s.charAt(n)&&(n++,i=!0),'"'===s.charAt(n)||"'"===s.charAt(n))return i&&S("~"),(t=C(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/))?new o.Quoted(t[0],t[1]||t[2],i,a,e.currentFileInfo):void 0},keyword:function(){var e;if(e=C(/^%|^[_A-Za-z-][_A-Za-z0-9-]*/)){var t=o.Color.fromKeyword(e);return t||new o.Keyword(e)}},call:function(){var t,i,n,s,a=r;if(t=/^([\w-]+|%|progid:[\w\.]+)\(/.exec(u)){if("url"===(i=(t=t[1]).toLowerCase()))return null;if(r+=t.length,"alpha"===i&&void 0!==(s=f.alpha()))return s;if(S("("),n=this.arguments(),S(")"))return t?new o.Call(t,n,a,e.currentFileInfo):void 0}},arguments:function(){for(var e,t=[];(e=this.assignment()||f.expression())&&(t.push(e),S(",")););return t},literal:function(){return this.dimension()||this.color()||this.quoted()||this.unicodeDescriptor()},assignment:function(){var e,t;if((e=C(/^\w+(?=\s?=)/i))&&S("="))return(t=f.entity())?new o.Assignment(e,t):void 0},url:function(){var t;if("u"===s.charAt(r)&&C(/^url\(/))return t=this.quoted()||this.variable()||C(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"",I(")"),new o.URL(null!=t.value||t instanceof o.Variable?t:new o.Anonymous(t),e.currentFileInfo)},variable:function(){var t,i=r;if("@"===s.charAt(r)&&(t=C(/^@@?[\w-]+/)))return new o.Variable(t,i,e.currentFileInfo)},variableCurly:function(){var t,i=r;if("@"===s.charAt(r)&&(t=C(/^@\{([\w-]+)\}/)))return new o.Variable("@"+t[1],i,e.currentFileInfo)},color:function(){var e;if("#"===s.charAt(r)&&(e=C(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/))){var t=e.input.match(/^#([\w]+).*/);return(t=t[1]).match(/^[A-Fa-f0-9]+$/)||F("Invalid HEX color code"),new o.Color(e[1])}},dimension:function(){var e,t=s.charCodeAt(r);if(!(t>57||t<43||47===t||44==t))return(e=C(/^([+-]?\d*\.?\d+)(%|[a-z]+)?/))?new o.Dimension(e[1],e[2]):void 0},unicodeDescriptor:function(){var e;if(e=C(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/))return new o.UnicodeDescriptor(e[0])},javascript:function(){var i,n,a=r;if("~"===s.charAt(a)&&(a++,n=!0),"`"===s.charAt(a))return e.javascriptEnabled===t||e.javascriptEnabled||F("You are using JavaScript, which has been disabled."),n&&S("~"),(i=C(/^`([^`]*)`/))?new o.JavaScript(i[1],r,n):void 0}},variable:function(){var e;if("@"===s.charAt(r)&&(e=C(/^(@[\w-]+)\s*:/)))return e[1]},rulesetCall:function(){var e;if("@"===s.charAt(r)&&(e=C(/^(@[\w-]+)\s*\(\s*\)\s*;/)))return new o.RulesetCall(e[1])},extend:function(e){var t,i,n,s,a,l=r;if(C(e?/^&:extend\(/:/^:extend\(/)){do{for(n=null,t=null;!(n=C(/^(all)(?=\s*(\)|,))/))&&(i=this.element());)t?t.push(i):t=[i];n=n&&n[1],t||F("Missing target selector for :extend()."),a=new o.Extend(new o.Selector(t),n,l),s?s.push(a):s=[a]}while(S(","));return T(/^\)/),e&&T(/^;/),s}},extendRule:function(){return this.extend(!0)},mixin:{call:function(){var t,i,n,a,l,c,u=s.charAt(r),h=!1,d=r;if("."===u||"#"===u){for(g();t=r,a=C(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/);)n=new o.Element(l,a,t,e.currentFileInfo),i?i.push(n):i=[n],l=S(">");if(i&&(S("(")&&(c=this.args(!0).args,I(")")),f.important()&&(h=!0),f.end()))return b(),new o.mixin.Call(i,c,d,e.currentFileInfo,h);y()}},args:function(e){var t,i,n,a,l,c,u=d.parsers,h=u.entities,f={args:null,variadic:!1},p=[],m=[],v=[];for(g();;){if(e)c=u.detachedRuleset()||u.expression();else{if(u.comments(),"."===s.charAt(r)&&C(/^\.{3}/)){f.variadic=!0,S(";")&&!t&&(t=!0),(t?m:v).push({variadic:!0});break}c=h.variable()||h.literal()||h.keyword()}if(!c)break;a=null,c.throwAwayComments&&c.throwAwayComments(),l=c;var w=null;if(e?c.value&&1==c.value.length&&(w=c.value[0]):w=c,w&&w instanceof o.Variable)if(S(":")){if(p.length>0&&(t&&F("Cannot mix ; and , as delimiter types"),i=!0),!(l=e&&u.detachedRuleset()||u.expression())){if(!e)return y(),f.args=[],f;F("could not understand value for named argument")}a=n=w.name}else{if(!e&&C(/^\.{3}/)){f.variadic=!0,S(";")&&!t&&(t=!0),(t?m:v).push({name:c.name,variadic:!0});break}e||(n=a=w.name,l=null)}l&&p.push(l),v.push({name:a,value:l}),S(",")||(S(";")||t)&&(i&&F("Cannot mix ; and , as delimiter types"),t=!0,p.length>1&&(l=new o.Value(p)),m.push({name:n,value:l}),n=null,p=[],i=!1)}return b(),f.args=t?m:v,f},definition:function(){var e,t,i,n,a=[],c=!1;if(!("."!==s.charAt(r)&&"#"!==s.charAt(r)||A(/^[^{]*\}/)))if(g(),t=C(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/)){e=t[1];var u=this.args(!1);if(a=u.args,c=u.variadic,!S(")"))return l=r,void y();if(f.comments(),C(/^when/)&&(n=T(f.conditions,"expected condition")),i=f.block())return b(),new o.mixin.Definition(e,a,i,n,c);y()}else b()}},entity:function(){var e=this.entities;return e.literal()||e.variable()||e.url()||e.call()||e.keyword()||e.javascript()||this.comment()},end:function(){return S(";")||R("}")},alpha:function(){var e;if(C(/^\(opacity=/i))return(e=C(/^\d+/)||this.entities.variable())?(I(")"),new o.Alpha(e)):void 0},element:function(){var t,i,n,s=r;if(i=this.combinator(),(t=C(/^(?:\d+\.\d+|\d+)%/)||C(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||S("*")||S("&")||this.attribute()||C(/^\([^()@]+\)/)||C(/^[\.#](?=@)/)||this.entities.variableCurly())||(g(),S("(")?(n=this.selector())&&S(")")?(t=new o.Paren(n),b()):y():b()),t)return new o.Element(i,t,s,e.currentFileInfo)},combinator:function(){var e=s.charAt(r);if(">"===e||"+"===e||"~"===e||"|"===e||"^"===e){for(r++,"^"===s.charAt(r)&&(e="^^",r++);w(s,r);)r++;return new o.Combinator(e)}return w(s,r-1)?new o.Combinator(" "):new o.Combinator(null)},lessSelector:function(){return this.selector(!0)},selector:function(t){for(var i,n,a,l,c,u,h,d=r,f=k;(t&&(c=this.extend())||t&&(u=f(/^when/))||(l=this.element()))&&(u?h=T(this.conditions,"expected condition"):h?F("CSS guard can only be used at the end of selector"):c?n?n.push(c):n=[c]:(n&&F("Extend can only be used at the end of selector"),a=s.charAt(r),i?i.push(l):i=[l],l=null),"{"!==a&&"}"!==a&&";"!==a&&","!==a&&")"!==a););if(i)return new o.Selector(i,n,h,d,e.currentFileInfo);n&&F("Extend must be used to extend a selector, it cannot be used on its own")},attribute:function(){if(S("[")){var e,t,i,n=this.entities;return(e=n.variableCurly())||(e=T(/^(?:[_A-Za-z0-9-\*]*\|)?(?:[_A-Za-z0-9-]|\\.)+/)),(i=C(/^[|~*$^]?=/))&&(t=n.quoted()||C(/^[0-9]+%/)||C(/^[\w-]+/)||n.variableCurly()),I("]"),new o.Attribute(e,i,t)}},block:function(){var e;if(S("{")&&(e=this.primary())&&S("}"))return e},blockRuleset:function(){var e=this.block();return e&&(e=new o.Ruleset(null,e)),e},detachedRuleset:function(){var e=this.blockRuleset();if(e)return new o.DetachedRuleset(e)},ruleset:function(){var t,i,n,a;for(g(),e.dumpLineNumbers&&(a=M(r,s,e));(i=this.lessSelector())&&(t?t.push(i):t=[i],this.comments(),i.condition&&t.length>1&&F("Guards are only currently allowed on a single selector."),S(","));)i.condition&&F("Guards are only currently allowed on a single selector."),this.comments();if(t&&(n=this.block())){b();var c=new o.Ruleset(t,n,e.strictImports);return e.dumpLineNumbers&&(c.debugInfo=a),c}l=r,y()},rule:function(t){var i,n,a,c,u,h=r,d=s.charAt(h);if("."!==d&&"#"!==d&&"&"!==d)if(g(),i=this.variable()||this.ruleProperty()){if((u="string"==typeof i)&&(n=this.detachedRuleset()),n||(n=t||!e.compress&&!u?this.anonymousValue()||this.value():this.value()||this.anonymousValue(),a=this.important(),c=!u&&i.pop().value),n&&this.end())return b(),new o.Rule(i,n,a,c,h,e.currentFileInfo);if(l=r,y(),n&&!t)return this.rule(!0)}else b()},anonymousValue:function(){var e;if(e=/^([^@+\/'"*`(;{}-]*);/.exec(u))return r+=e[0].length-1,new o.Anonymous(e[1])},import:function(){var t,i,n=r,s=C(/^@import?\s+/);if(s){var a=(s?this.importOptions():null)||{};if(t=this.entities.quoted()||this.entities.url())return i=this.mediaFeatures(),x(";")||(r=n,F("missing semi-colon or unrecognised media features on import")),i=i&&new o.Value(i),new o.Import(t,i,a,n,e.currentFileInfo);r=n,F("malformed import statement")}},importOptions:function(){var e,t,i,n={};if(!S("("))return null;do{if(e=this.importOption()){switch(i=!0,t=e){case"css":t="less",i=!1;break;case"once":t="multiple",i=!1}if(n[t]=i,!S(","))break}}while(e);return I(")"),n},importOption:function(){var e=C(/^(less|css|multiple|once|inline|reference)/);if(e)return e[1]},mediaFeature:function(){var t,i,n=this.entities,s=[];do{if(t=n.keyword()||n.variable())s.push(t);else if(S("(")){if(i=this.property(),t=this.value(),!S(")"))return null;if(i&&t)s.push(new o.Paren(new o.Rule(i,t,null,null,r,e.currentFileInfo,!0)));else{if(!t)return null;s.push(new o.Paren(t))}}}while(t);if(s.length>0)return new o.Expression(s)},mediaFeatures:function(){var e,t=this.entities,i=[];do{if(e=this.mediaFeature()){if(i.push(e),!S(","))break}else if((e=t.variable())&&(i.push(e),!S(",")))break}while(e);return i.length>0?i:null},media:function(){var t,i,n,a;if(e.dumpLineNumbers&&(a=M(r,s,e)),C(/^@media/)&&(t=this.mediaFeatures(),i=this.block()))return n=new o.Media(i,t,r,e.currentFileInfo),e.dumpLineNumbers&&(n.debugInfo=a),n},directive:function(){var t,i,n,a,l,c,u,h=r,d=!0;if("@"===s.charAt(r)){if(i=this.import()||this.media())return i;if(g(),t=C(/^@[a-z-]+/)){switch(a=t,"-"==t.charAt(1)&&t.indexOf("-",2)>0&&(a="@"+t.slice(t.indexOf("-",2)+1)),a){case"@charset":l=!0,d=!1;break;case"@namespace":c=!0,d=!1;break;case"@keyframes":l=!0;break;case"@host":case"@page":case"@document":case"@supports":u=!0}if(l?(i=this.entity())||F("expected "+t+" identifier"):c?(i=this.expression())||F("expected "+t+" expression"):u&&(i=(C(/^[^{;]+/)||"").trim())&&(i=new o.Anonymous(i)),d&&(n=this.blockRuleset()),n||!d&&i&&S(";"))return b(),new o.Directive(t,i,n,h,e.currentFileInfo,e.dumpLineNumbers?M(h,s,e):null);y()}}},value:function(){var e,t=[];do{if((e=this.expression())&&(t.push(e),!S(",")))break}while(e);if(t.length>0)return new o.Value(t)},important:function(){if("!"===s.charAt(r))return C(/^! *important/)},sub:function(){var e,t;if(S("(")&&(e=this.addition()))return t=new o.Expression([e]),I(")"),t.parens=!0,t},multiplication:function(){var e,t,i,n,a;if(e=this.operand()){for(a=w(s,r-1);!A(/^\/[*\/]/);){if(g(),!(i=S("/")||S("*"))){b();break}if(!(t=this.operand())){y();break}b(),e.parensInOp=!0,t.parensInOp=!0,n=new o.Operation(i,[n||e,t],a),a=w(s,r-1)}return n||e}},addition:function(){var e,t,i,n,a;if(e=this.multiplication()){for(a=w(s,r-1);(i=C(/^[-+]\s+/)||!a&&(S("+")||S("-")))&&(t=this.multiplication());)e.parensInOp=!0,t.parensInOp=!0,n=new o.Operation(i,[n||e,t],a),a=w(s,r-1);return n||e}},conditions:function(){var e,t,i,n=r;if(e=this.condition()){for(;A(/^,\s*(not\s*)?\(/)&&S(",")&&(t=this.condition());)i=new o.Condition("or",i||e,t,n);return i||e}},condition:function(){var e,t,i,n,s=this.entities,a=r,l=!1;if(C(/^not/)&&(l=!0),I("("),e=this.addition()||s.keyword()||s.quoted())return(n=C(/^(?:>=|<=|=<|[<=>])/))?(t=this.addition()||s.keyword()||s.quoted())?i=new o.Condition(n,e,t,a,l):F("expected expression"):i=new o.Condition("=",e,new o.Keyword("true"),a,l),I(")"),C(/^and/)?new o.Condition("and",i,this.condition()):i},operand:function(){var e,t=this.entities,i=s.charAt(r+1);"-"!==s.charAt(r)||"@"!==i&&"("!==i||(e=S("-"));var n=this.sub()||t.dimension()||t.color()||t.variable()||t.call();return e&&(n.parensInOp=!0,n=new o.Negative(n)),n},expression:function(){var e,t,i=[];do{(e=this.addition()||this.entity())&&(i.push(e),A(/^\/[\/*]/)||(t=S("/"))&&i.push(new o.Anonymous(t)))}while(e);if(i.length>0)return new o.Expression(i)},property:function(){var e=C(/^(\*?-?[_a-zA-Z0-9-]+)\s*:/);if(e)return e[1]},ruleProperty:function(){var t,i,n=u,s=[],a=[],l=0;function c(e){var t=e.exec(n);if(t)return a.push(r+l),l+=t[0].length,n=n.slice(t[1].length),s.push(t[1])}for(c(/^(\*?)/);c(/^((?:[\w-]+)|(?:@\{[\w-]+\}))/););if(s.length>1&&c(/^\s*((?:\+_|\+)?)\s*:/)){for(E(l),""===s[0]&&(s.shift(),a.shift()),i=0;i<s.length;i++)t=s[i],s[i]="@"!==t.charAt(0)?new o.Keyword(t):new o.Variable("@"+t.slice(2,-1),a[i],e.currentFileInfo);return s}}}}},n.Parser.serializeVars=function(e){var t="";for(var i in e)if(Object.hasOwnProperty.call(e,i)){var n=e[i];t+=("@"===i[0]?"":"@")+i+": "+n+(";"===(""+n).slice(-1)?"":";")}return t},function(n){n.functions={rgb:function(e,t,i){return this.rgba(e,t,i,1)},rgba:function(e,t,i,o){var s=[e,t,i].map(function(e){return i=255,(t=e)instanceof n.Dimension&&t.unit.is("%")?parseFloat(t.value*i/100):c(t);var t,i});return o=c(o),new n.Color(s,o)},hsl:function(e,t,i){return this.hsla(e,t,i,1)},hsla:function(e,t,i,n){function o(e){return 6*(e=e<0?e+1:e>1?e-1:e)<1?r+(s-r)*e*6:2*e<1?s:3*e<2?r+(s-r)*(2/3-e)*6:r}e=c(e)%360/360,t=u(c(t)),i=u(c(i)),n=u(c(n));var s=i<=.5?i*(t+1):i+t-i*t,r=2*i-s;return this.rgba(255*o(e+1/3),255*o(e),255*o(e-1/3),n)},hsv:function(e,t,i){return this.hsva(e,t,i,1)},hsva:function(e,t,i,n){var o,s;e=c(e)%360/360*360,t=c(t),i=c(i),n=c(n);var r=[i,i*(1-t),i*(1-(s=e/60-(o=Math.floor(e/60%6)))*t),i*(1-(1-s)*t)],a=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];return this.rgba(255*r[a[o][0]],255*r[a[o][1]],255*r[a[o][2]],n)},hue:function(e){return new n.Dimension(e.toHSL().h)},saturation:function(e){return new n.Dimension(100*e.toHSL().s,"%")},lightness:function(e){return new n.Dimension(100*e.toHSL().l,"%")},hsvhue:function(e){return new n.Dimension(e.toHSV().h)},hsvsaturation:function(e){return new n.Dimension(100*e.toHSV().s,"%")},hsvvalue:function(e){return new n.Dimension(100*e.toHSV().v,"%")},red:function(e){return new n.Dimension(e.rgb[0])},green:function(e){return new n.Dimension(e.rgb[1])},blue:function(e){return new n.Dimension(e.rgb[2])},alpha:function(e){return new n.Dimension(e.toHSL().a)},luma:function(e){return new n.Dimension(e.luma()*e.alpha*100,"%")},luminance:function(e){var t=.2126*e.rgb[0]/255+.7152*e.rgb[1]/255+.0722*e.rgb[2]/255;return new n.Dimension(t*e.alpha*100,"%")},saturate:function(e,t){if(!e.rgb)return null;var i=e.toHSL();return i.s+=t.value/100,i.s=u(i.s),l(i)},desaturate:function(e,t){var i=e.toHSL();return i.s-=t.value/100,i.s=u(i.s),l(i)},lighten:function(e,t){var i=e.toHSL();return i.l+=t.value/100,i.l=u(i.l),l(i)},darken:function(e,t){var i=e.toHSL();return i.l-=t.value/100,i.l=u(i.l),l(i)},fadein:function(e,t){var i=e.toHSL();return i.a+=t.value/100,i.a=u(i.a),l(i)},fadeout:function(e,t){var i=e.toHSL();return i.a-=t.value/100,i.a=u(i.a),l(i)},fade:function(e,t){var i=e.toHSL();return i.a=t.value/100,i.a=u(i.a),l(i)},spin:function(e,t){var i=e.toHSL(),n=(i.h+t.value)%360;return i.h=n<0?360+n:n,l(i)},mix:function(e,t,i){i||(i=new n.Dimension(50));var o=i.value/100,s=2*o-1,r=e.toHSL().a-t.toHSL().a,a=((s*r==-1?s:(s+r)/(1+s*r))+1)/2,l=1-a,c=[e.rgb[0]*a+t.rgb[0]*l,e.rgb[1]*a+t.rgb[1]*l,e.rgb[2]*a+t.rgb[2]*l],u=e.alpha*o+t.alpha*(1-o);return new n.Color(c,u)},greyscale:function(e){return this.desaturate(e,new n.Dimension(100))},contrast:function(e,t,i,n){if(!e.rgb)return null;if(void 0===i&&(i=this.rgba(255,255,255,1)),void 0===t&&(t=this.rgba(0,0,0,1)),t.luma()>i.luma()){var o=i;i=t,t=o}return n=void 0===n?.43:c(n),e.luma()<n?i:t},e:function(e){return new n.Anonymous(e instanceof n.JavaScript?e.evaluated:e.value)},escape:function(e){return new n.Anonymous(encodeURI(e.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},replace:function(e,t,i,o){var s=e.value;return s=s.replace(new RegExp(t.value,o?o.value:""),i.value),new n.Quoted(e.quote||"",s,e.escaped)},"%":function(e){for(var t=Array.prototype.slice.call(arguments,1),i=e.value,o=0;o<t.length;o++)i=i.replace(/%[sda]/i,function(e){var i=e.match(/s/i)?t[o].value:t[o].toCSS();return e.match(/[A-Z]$/)?encodeURIComponent(i):i});return i=i.replace(/%%/g,"%"),new n.Quoted(e.quote||"",i,e.escaped)},unit:function(e,t){if(!(e instanceof n.Dimension))throw{type:"Argument",message:"the first argument to unit must be a number"+(e instanceof n.Operation?". Have you forgotten parenthesis?":"")};return t=t?t instanceof n.Keyword?t.value:t.toCSS():"",new n.Dimension(e.value,t)},convert:function(e,t){return e.convertTo(t.value)},round:function(e,t){var i=void 0===t?0:t.value;return s(function(e){return e.toFixed(i)},null,e)},pi:function(){return new n.Dimension(Math.PI)},mod:function(e,t){return new n.Dimension(e.value%t.value,e.unit)},pow:function(e,t){if("number"==typeof e&&"number"==typeof t)e=new n.Dimension(e),t=new n.Dimension(t);else if(!(e instanceof n.Dimension&&t instanceof n.Dimension))throw{type:"Argument",message:"arguments must be numbers"};return new n.Dimension(Math.pow(e.value,t.value),e.unit)},_minmax:function(e,i){switch((i=Array.prototype.slice.call(i)).length){case 0:throw{type:"Argument",message:"one or more arguments required"}}var o,s,r,a,l,c,u,h,d=[],f={};for(o=0;o<i.length;o++)if((r=i[o])instanceof n.Dimension)if(u=""!==(c=""===(a=""===r.unit.toString()&&h!==t?new n.Dimension(r.value,h).unify():r.unify()).unit.toString()&&u!==t?u:a.unit.toString())&&u===t||""!==c&&""===d[0].unify().unit.toString()?c:u,h=""!==c&&h===t?r.unit.toString():h,(s=f[""]!==t&&""!==c&&c===u?f[""]:f[c])!==t)l=""===d[s].unit.toString()&&h!==t?new n.Dimension(d[s].value,h).unify():d[s].unify(),(e&&a.value<l.value||!e&&a.value>l.value)&&(d[s]=r);else{if(u!==t&&c!==u)throw{type:"Argument",message:"incompatible types"};f[c]=d.length,d.push(r)}else Array.isArray(i[o].value)&&Array.prototype.push.apply(i,Array.prototype.slice.call(i[o].value));return 1==d.length?d[0]:(i=d.map(function(e){return e.toCSS(this.env)}).join(this.env.compress?",":", "),new n.Anonymous((e?"min":"max")+"("+i+")"))},min:function(){return this._minmax(!0,arguments)},max:function(){return this._minmax(!1,arguments)},"get-unit":function(e){return new n.Anonymous(e.unit)},argb:function(e){return new n.Anonymous(e.toARGB())},percentage:function(e){return new n.Dimension(100*e.value,"%")},color:function(e){if(e instanceof n.Quoted){var t,i=e.value;if(t=n.Color.fromKeyword(i))return t;if(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/.test(i))return new n.Color(i.slice(1));throw{type:"Argument",message:"argument must be a color keyword or 3/6 digit hex e.g. #FFF"}}throw{type:"Argument",message:"argument must be a string"}},iscolor:function(e){return this._isa(e,n.Color)},isnumber:function(e){return this._isa(e,n.Dimension)},isstring:function(e){return this._isa(e,n.Quoted)},iskeyword:function(e){return this._isa(e,n.Keyword)},isurl:function(e){return this._isa(e,n.URL)},ispixel:function(e){return this.isunit(e,"px")},ispercentage:function(e){return this.isunit(e,"%")},isem:function(e){return this.isunit(e,"em")},isunit:function(e,t){return e instanceof n.Dimension&&e.unit.is(t.value||t)?n.True:n.False},_isa:function(e,t){return e instanceof t?n.True:n.False},tint:function(e,t){return this.mix(this.rgb(255,255,255),e,t)},shade:function(e,t){return this.mix(this.rgb(0,0,0),e,t)},extract:function(e,t){return t=t.value-1,Array.isArray(e.value)?e.value[t]:Array(e)[t]},length:function(e){var t=Array.isArray(e.value)?e.value.length:1;return new n.Dimension(t)},"data-uri":function(t,o){if(void 0!==e)return new n.URL(o||t,this.currentFileInfo).eval(this.env);var s=t.value,r=o&&o.value,a=i("./fs"),l=i("path"),c=!1;if(arguments.length<2&&(r=s),this.env.isPathRelative(r)&&(r=this.currentFileInfo.relativeUrls?l.join(this.currentFileInfo.currentDirectory,r):l.join(this.currentFileInfo.entryPath,r)),arguments.length<2){var u;try{u=i("mime")}catch(e){u=n._mime}s=u.lookup(r);var h=u.charsets.lookup(s);(c=["US-ASCII","UTF-8"].indexOf(h)<0)&&(s+=";base64")}else c=/;base64$/.test(s);var d=a.readFileSync(r),f=parseInt(d.length/1024,10);if(f>=32&&!1!==this.env.ieCompat)return this.env.silent||console.warn("Skipped data-uri embedding of %s because its size (%dKB) exceeds IE8-safe %dKB!",r,f,32),new n.URL(o||t,this.currentFileInfo).eval(this.env);var p='"data:'+s+","+(d=c?d.toString("base64"):encodeURIComponent(d))+'"';return new n.URL(new n.Anonymous(p))},"svg-gradient":function(e){function o(){throw{type:"Argument",message:"svg-gradient expects direction, start_color [start_position], [color position,]..., end_color [end_position]"}}arguments.length<3&&o();var s,r,a,l,c,u,h,d=Array.prototype.slice.call(arguments,1),f="linear",p='x="0" y="0" width="1" height="1"',m=!0,v={compress:!1};switch(e.toCSS(v)){case"to bottom":s='x1="0%" y1="0%" x2="0%" y2="100%"';break;case"to right":s='x1="0%" y1="0%" x2="100%" y2="0%"';break;case"to bottom right":s='x1="0%" y1="0%" x2="100%" y2="100%"';break;case"to top right":s='x1="0%" y1="100%" x2="100%" y2="0%"';break;case"ellipse":case"ellipse at center":f="radial",s='cx="50%" cy="50%" r="75%"',p='x="-50" y="-50" width="101" height="101"';break;default:throw{type:"Argument",message:"svg-gradient direction must be 'to bottom', 'to right', 'to bottom right', 'to top right' or 'ellipse at center'"}}for(r='<?xml version="1.0" ?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><'+f+'Gradient id="gradient" gradientUnits="userSpaceOnUse" '+s+">",a=0;a<d.length;a+=1)d[a].value?(l=d[a].value[0],c=d[a].value[1]):(l=d[a],c=t),l instanceof n.Color&&((0===a||a+1===d.length)&&c===t||c instanceof n.Dimension)||o(),u=c?c.toCSS(v):0===a?"0%":"100%",h=l.alpha,r+='<stop offset="'+u+'" stop-color="'+l.toRGB()+'"'+(h<1?' stop-opacity="'+h+'"':"")+"/>";if(r+="</"+f+"Gradient><rect "+p+' fill="url(#gradient)" /></svg>',m)try{r=i("./encoder").encodeBase64(r)}catch(e){m=!1}return r="'data:image/svg+xml"+(m?";base64":"")+","+r+"'",new n.URL(new n.Anonymous(r))}},n._mime={_types:{".htm":"text/html",".html":"text/html",".gif":"image/gif",".jpg":"image/jpeg",".jpeg":"image/jpeg",".png":"image/png"},lookup:function(e){var o=i("path").extname(e),s=n._mime._types[o];if(s===t)throw new Error('Optional dependency "mime" is required for '+o);return s},charsets:{lookup:function(e){return e&&/^text\//.test(e)?"UTF-8":""}}};var o={ceil:null,floor:null,sqrt:null,abs:null,tan:"",sin:"",cos:"",atan:"rad",asin:"rad",acos:"rad"};function s(e,t,i){if(!(i instanceof n.Dimension))throw{type:"Argument",message:"argument must be a number"};return null==t?t=i.unit:i=i.unify(),new n.Dimension(e(parseFloat(i.value)),t)}function r(e,t,i){var o,s,r,a,l=t.alpha,c=i.alpha,u=[];r=c+l*(1-c);for(var h=0;h<3;h++)a=e(o=t.rgb[h]/255,s=i.rgb[h]/255),r&&(a=(c*s+l*(o-c*(o+s-a)))/r),u[h]=255*a;return new n.Color(u,r)}var a={multiply:function(e,t){return e*t},screen:function(e,t){return e+t-e*t},overlay:function(e,t){return(e*=2)<=1?a.multiply(e,t):a.screen(e-1,t)},softlight:function(e,t){var i=1,n=e;return t>.5&&(n=1,i=e>.25?Math.sqrt(e):((16*e-12)*e+4)*e),e-(1-2*t)*n*(i-e)},hardlight:function(e,t){return a.overlay(t,e)},difference:function(e,t){return Math.abs(e-t)},exclusion:function(e,t){return e+t-2*e*t},average:function(e,t){return(e+t)/2},negation:function(e,t){return 1-Math.abs(e+t-1)}};function l(e){return n.functions.hsla(e.h,e.s,e.l,e.a)}function c(e){if(e instanceof n.Dimension)return parseFloat(e.unit.is("%")?e.value/100:e.value);if("number"==typeof e)return e;throw{error:"RuntimeError",message:"color functions take numbers as parameters"}}function u(e){return Math.min(1,Math.max(0,e))}n.defaultFunc={eval:function(){var e=this.value_,t=this.error_;if(t)throw t;if(null!=e)return e?n.True:n.False},value:function(e){this.value_=e},error:function(e){this.error_=e},reset:function(){this.value_=this.error_=null}},function(){var e,t=n.functions;for(e in o)o.hasOwnProperty(e)&&(t[e]=s.bind(null,Math[e],o[e]));for(e in a)a.hasOwnProperty(e)&&(t[e]=r.bind(null,a[e]));e=n.defaultFunc,t.default=e.eval.bind(e)}(),n.fround=function(e,t){var i=e&&e.numPrecision;return null==i?t:Number((t+2e-16).toFixed(i))},n.functionCall=function(e,t){this.env=e,this.currentFileInfo=t},n.functionCall.prototype=n.functions}(i("./tree")),i("./tree").colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},function(e){e.debugInfo=function(t,i,n){var o="";if(t.dumpLineNumbers&&!t.compress)switch(t.dumpLineNumbers){case"comments":o=e.debugInfo.asComment(i);break;case"mediaquery":o=e.debugInfo.asMediaQuery(i);break;case"all":o=e.debugInfo.asComment(i)+(n||"")+e.debugInfo.asMediaQuery(i)}return o},e.debugInfo.asComment=function(e){return"/* line "+e.debugInfo.lineNumber+", "+e.debugInfo.fileName+" */\n"},e.debugInfo.asMediaQuery=function(e){return"@media -sass-debug-info{filename{font-family:"+("file://"+e.debugInfo.fileName).replace(/([.:\/\\])/g,function(e){return"\\"==e&&(e="/"),"\\"+e})+"}line{font-family:\\00003"+e.debugInfo.lineNumber+"}}\n"},e.find=function(e,t){for(var i,n=0;n<e.length;n++)if(i=t.call(e,e[n]))return i;return null},e.jsify=function(e){return Array.isArray(e.value)&&e.value.length>1?"["+e.value.map(function(e){return e.toCSS()}).join(", ")+"]":e.toCSS()},e.toCSS=function(e){var t=[];return this.genCSS(e,{add:function(e,i,n){t.push(e)},isEmpty:function(){return 0===t.length}}),t.join("")},e.outputRuleset=function(e,t,i){var n,o=i.length;if(e.tabLevel=1+(0|e.tabLevel),e.compress){for(t.add("{"),n=0;n<o;n++)i[n].genCSS(e,t);return t.add("}"),void e.tabLevel--}var s="\n"+Array(e.tabLevel).join("  "),r=s+"  ";if(o){for(t.add(" {"+r),i[0].genCSS(e,t),n=1;n<o;n++)t.add(r),i[n].genCSS(e,t);t.add(s+"}")}else t.add(" {"+s+"}");e.tabLevel--}}(i("./tree")),function(e){e.Alpha=function(e){this.value=e},e.Alpha.prototype={type:"Alpha",accept:function(e){this.value=e.visit(this.value)},eval:function(t){return this.value.eval?new e.Alpha(this.value.eval(t)):this},genCSS:function(e,t){t.add("alpha(opacity="),this.value.genCSS?this.value.genCSS(e,t):t.add(this.value),t.add(")")},toCSS:e.toCSS}}(i("../tree")),function(e){e.Anonymous=function(e,t,i,n,o){this.value=e,this.index=t,this.mapLines=n,this.currentFileInfo=i,this.rulesetLike=void 0!==o&&o},e.Anonymous.prototype={type:"Anonymous",eval:function(){return new e.Anonymous(this.value,this.index,this.currentFileInfo,this.mapLines,this.rulesetLike)},compare:function(e){if(!e.toCSS)return-1;var t=this.toCSS(),i=e.toCSS();return t===i?0:t<i?-1:1},isRulesetLike:function(){return this.rulesetLike},genCSS:function(e,t){t.add(this.value,this.currentFileInfo,this.index,this.mapLines)},toCSS:e.toCSS}}(i("../tree")),function(e){e.Assignment=function(e,t){this.key=e,this.value=t},e.Assignment.prototype={type:"Assignment",accept:function(e){this.value=e.visit(this.value)},eval:function(t){return this.value.eval?new e.Assignment(this.key,this.value.eval(t)):this},genCSS:function(e,t){t.add(this.key+"="),this.value.genCSS?this.value.genCSS(e,t):t.add(this.value)},toCSS:e.toCSS}}(i("../tree")),function(e){e.Call=function(e,t,i,n){this.name=e,this.args=t,this.index=i,this.currentFileInfo=n},e.Call.prototype={type:"Call",accept:function(e){this.args&&(this.args=e.visitArray(this.args))},eval:function(t){var i,n,o=this.args.map(function(e){return e.eval(t)}),s=this.name.toLowerCase();if(s in e.functions)try{if(null!=(i=(n=new e.functionCall(t,this.currentFileInfo))[s].apply(n,o)))return i}catch(e){throw{type:e.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(e.message?": "+e.message:""),index:this.index,filename:this.currentFileInfo.filename}}return new e.Call(this.name,o,this.index,this.currentFileInfo)},genCSS:function(e,t){t.add(this.name+"(",this.currentFileInfo,this.index);for(var i=0;i<this.args.length;i++)this.args[i].genCSS(e,t),i+1<this.args.length&&t.add(", ");t.add(")")},toCSS:e.toCSS}}(i("../tree")),function(e){e.Color=function(e,t){Array.isArray(e)?this.rgb=e:6==e.length?this.rgb=e.match(/.{2}/g).map(function(e){return parseInt(e,16)}):this.rgb=e.split("").map(function(e){return parseInt(e+e,16)}),this.alpha="number"==typeof t?t:1};function t(e){return"#"+e.map(function(e){return((e=i(Math.round(e),255))<16?"0":"")+e.toString(16)}).join("")}function i(e,t){return Math.min(Math.max(e,0),t)}e.Color.prototype={type:"Color",eval:function(){return this},luma:function(){var e=this.rgb[0]/255,t=this.rgb[1]/255,i=this.rgb[2]/255;return.2126*(e=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(i=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},genCSS:function(e,t){t.add(this.toCSS(e))},toCSS:function(t,n){var o=t&&t.compress&&!n,s=e.fround(t,this.alpha);if(s<1)return 0===s&&this.isTransparentKeyword?"transparent":"rgba("+this.rgb.map(function(e){return i(Math.round(e),255)}).concat(i(s,1)).join(","+(o?"":" "))+")";var r=this.toRGB();if(o){var a=r.split("");a[1]===a[2]&&a[3]===a[4]&&a[5]===a[6]&&(r="#"+a[1]+a[3]+a[5])}return r},operate:function(t,i,n){for(var o=[],s=this.alpha*(1-n.alpha)+n.alpha,r=0;r<3;r++)o[r]=e.operate(t,i,this.rgb[r],n.rgb[r]);return new e.Color(o,s)},toRGB:function(){return t(this.rgb)},toHSL:function(){var e,t,i=this.rgb[0]/255,n=this.rgb[1]/255,o=this.rgb[2]/255,s=this.alpha,r=Math.max(i,n,o),a=Math.min(i,n,o),l=(r+a)/2,c=r-a;if(r===a)e=t=0;else{switch(t=l>.5?c/(2-r-a):c/(r+a),r){case i:e=(n-o)/c+(n<o?6:0);break;case n:e=(o-i)/c+2;break;case o:e=(i-n)/c+4}e/=6}return{h:360*e,s:t,l:l,a:s}},toHSV:function(){var e,t,i=this.rgb[0]/255,n=this.rgb[1]/255,o=this.rgb[2]/255,s=this.alpha,r=Math.max(i,n,o),a=Math.min(i,n,o),l=r,c=r-a;if(t=0===r?0:c/r,r===a)e=0;else{switch(r){case i:e=(n-o)/c+(n<o?6:0);break;case n:e=(o-i)/c+2;break;case o:e=(i-n)/c+4}e/=6}return{h:360*e,s:t,v:l,a:s}},toARGB:function(){return t([255*this.alpha].concat(this.rgb))},compare:function(e){return e.rgb&&e.rgb[0]===this.rgb[0]&&e.rgb[1]===this.rgb[1]&&e.rgb[2]===this.rgb[2]&&e.alpha===this.alpha?0:-1}},e.Color.fromKeyword=function(t){if(t=t.toLowerCase(),e.colors.hasOwnProperty(t))return new e.Color(e.colors[t].slice(1));if("transparent"===t){var i=new e.Color([0,0,0],0);return i.isTransparentKeyword=!0,i}}}(i("../tree")),function(e){e.Comment=function(e,t,i,n){this.value=e,this.silent=!!t,this.currentFileInfo=n},e.Comment.prototype={type:"Comment",genCSS:function(t,i){this.debugInfo&&i.add(e.debugInfo(t,this),this.currentFileInfo,this.index),i.add(this.value.trim())},toCSS:e.toCSS,isSilent:function(e){var t=this.currentFileInfo&&this.currentFileInfo.reference&&!this.isReferenced,i=e.compress&&!this.value.match(/^\/\*!/);return this.silent||t||i},eval:function(){return this},markReferenced:function(){this.isReferenced=!0}}}(i("../tree")),function(e){e.Condition=function(e,t,i,n,o){this.op=e.trim(),this.lvalue=t,this.rvalue=i,this.index=n,this.negate=o},e.Condition.prototype={type:"Condition",accept:function(e){this.lvalue=e.visit(this.lvalue),this.rvalue=e.visit(this.rvalue)},eval:function(e){var t,i=this.lvalue.eval(e),n=this.rvalue.eval(e),o=this.index;return t=function(e){switch(e){case"and":return i&&n;case"or":return i||n;default:if(i.compare)t=i.compare(n);else{if(!n.compare)throw{type:"Type",message:"Unable to perform comparison",index:o};t=n.compare(i)}switch(t){case-1:return"<"===e||"=<"===e||"<="===e;case 0:return"="===e||">="===e||"=<"===e||"<="===e;case 1:return">"===e||">="===e}}}(this.op),this.negate?!t:t}}}(i("../tree")),function(e){e.DetachedRuleset=function(e,t){this.ruleset=e,this.frames=t},e.DetachedRuleset.prototype={type:"DetachedRuleset",accept:function(e){this.ruleset=e.visit(this.ruleset)},eval:function(t){var i=this.frames||t.frames.slice(0);return new e.DetachedRuleset(this.ruleset,i)},callEval:function(t){return this.ruleset.eval(this.frames?new e.evalEnv(t,this.frames.concat(t.frames)):t)}}}(i("../tree")),function(e){e.Dimension=function(i,n){this.value=parseFloat(i),this.unit=n&&n instanceof e.Unit?n:new e.Unit(n?[n]:t)},e.Dimension.prototype={type:"Dimension",accept:function(e){this.unit=e.visit(this.unit)},eval:function(e){return this},toColor:function(){return new e.Color([this.value,this.value,this.value])},genCSS:function(t,i){if(t&&t.strictUnits&&!this.unit.isSingular())throw new Error("Multiple units in dimension. Correct the units or use the unit function. Bad unit: "+this.unit.toString());var n=e.fround(t,this.value),o=String(n);if(0!==n&&n<1e-6&&n>-1e-6&&(o=n.toFixed(20).replace(/0+$/,"")),t&&t.compress){if(0===n&&this.unit.isLength())return void i.add(o);n>0&&n<1&&(o=o.substr(1))}i.add(o),this.unit.genCSS(t,i)},toCSS:e.toCSS,operate:function(t,i,n){var o=e.operate(t,i,this.value,n.value),s=this.unit.clone();if("+"===i||"-"===i)if(0===s.numerator.length&&0===s.denominator.length)s.numerator=n.unit.numerator.slice(0),s.denominator=n.unit.denominator.slice(0);else if(0===n.unit.numerator.length&&0===s.denominator.length);else{if(n=n.convertTo(this.unit.usedUnits()),t.strictUnits&&n.unit.toString()!==s.toString())throw new Error("Incompatible units. Change the units or use the unit function. Bad units: '"+s.toString()+"' and '"+n.unit.toString()+"'.");o=e.operate(t,i,this.value,n.value)}else"*"===i?(s.numerator=s.numerator.concat(n.unit.numerator).sort(),s.denominator=s.denominator.concat(n.unit.denominator).sort(),s.cancel()):"/"===i&&(s.numerator=s.numerator.concat(n.unit.denominator).sort(),s.denominator=s.denominator.concat(n.unit.numerator).sort(),s.cancel());return new e.Dimension(o,s)},compare:function(t){if(t instanceof e.Dimension){var i,n,o,s;if(this.unit.isEmpty()||t.unit.isEmpty())i=this,n=t;else if(i=this.unify(),n=t.unify(),0!==i.unit.compare(n.unit))return-1;return o=i.value,(s=n.value)>o?-1:s<o?1:0}return-1},unify:function(){return this.convertTo({length:"px",duration:"s",angle:"rad"})},convertTo:function(t){var i,n,o,s,r,a=this.value,l=this.unit.clone(),c={};if("string"==typeof t){for(i in e.UnitConversions)e.UnitConversions[i].hasOwnProperty(t)&&((c={})[i]=t);t=c}for(n in r=function(e,t){return o.hasOwnProperty(e)?(t?a/=o[e]/o[s]:a*=o[e]/o[s],s):e},t)t.hasOwnProperty(n)&&(s=t[n],o=e.UnitConversions[n],l.map(r));return l.cancel(),new e.Dimension(a,l)}},e.UnitConversions={length:{m:1,cm:.01,mm:.001,in:.0254,px:.0254/96,pt:.0254/72,pc:.0254/72*12},duration:{s:1,ms:.001},angle:{rad:1/(2*Math.PI),deg:1/360,grad:.0025,turn:1}},e.Unit=function(e,t,i){this.numerator=e?e.slice(0).sort():[],this.denominator=t?t.slice(0).sort():[],this.backupUnit=i},e.Unit.prototype={type:"Unit",clone:function(){return new e.Unit(this.numerator.slice(0),this.denominator.slice(0),this.backupUnit)},genCSS:function(e,t){this.numerator.length>=1?t.add(this.numerator[0]):this.denominator.length>=1?t.add(this.denominator[0]):e&&e.strictUnits||!this.backupUnit||t.add(this.backupUnit)},toCSS:e.toCSS,toString:function(){var e,t=this.numerator.join("*");for(e=0;e<this.denominator.length;e++)t+="/"+this.denominator[e];return t},compare:function(e){return this.is(e.toString())?0:-1},is:function(e){return this.toString()===e},isLength:function(){return Boolean(this.toCSS().match(/px|em|%|in|cm|mm|pc|pt|ex/))},isEmpty:function(){return 0===this.numerator.length&&0===this.denominator.length},isSingular:function(){return this.numerator.length<=1&&0===this.denominator.length},map:function(e){var t;for(t=0;t<this.numerator.length;t++)this.numerator[t]=e(this.numerator[t],!1);for(t=0;t<this.denominator.length;t++)this.denominator[t]=e(this.denominator[t],!0)},usedUnits:function(){var t,i,n={};for(var o in i=function(e){return t.hasOwnProperty(e)&&!n[o]&&(n[o]=e),e},e.UnitConversions)e.UnitConversions.hasOwnProperty(o)&&(t=e.UnitConversions[o],this.map(i));return n},cancel:function(){var e,t,i,n={};for(t=0;t<this.numerator.length;t++)e=this.numerator[t],i||(i=e),n[e]=(n[e]||0)+1;for(t=0;t<this.denominator.length;t++)e=this.denominator[t],i||(i=e),n[e]=(n[e]||0)-1;for(e in this.numerator=[],this.denominator=[],n)if(n.hasOwnProperty(e)){var o=n[e];if(o>0)for(t=0;t<o;t++)this.numerator.push(e);else if(o<0)for(t=0;t<-o;t++)this.denominator.push(e)}0===this.numerator.length&&0===this.denominator.length&&i&&(this.backupUnit=i),this.numerator.sort(),this.denominator.sort()}}}(i("../tree")),function(e){e.Directive=function(e,t,i,n,o,s){this.name=e,this.value=t,i&&(this.rules=i,this.rules.allowImports=!0),this.index=n,this.currentFileInfo=o,this.debugInfo=s},e.Directive.prototype={type:"Directive",accept:function(e){var t=this.value,i=this.rules;i&&(i=e.visit(i)),t&&(t=e.visit(t))},isRulesetLike:function(){return"@charset"!==this.name},genCSS:function(t,i){var n=this.value,o=this.rules;i.add(this.name,this.currentFileInfo,this.index),n&&(i.add(" "),n.genCSS(t,i)),o?e.outputRuleset(t,i,[o]):i.add(";")},toCSS:e.toCSS,eval:function(t){var i=this.value,n=this.rules;return i&&(i=i.eval(t)),n&&((n=n.eval(t)).root=!0),new e.Directive(this.name,i,n,this.index,this.currentFileInfo,this.debugInfo)},variable:function(t){if(this.rules)return e.Ruleset.prototype.variable.call(this.rules,t)},find:function(){if(this.rules)return e.Ruleset.prototype.find.apply(this.rules,arguments)},rulesets:function(){if(this.rules)return e.Ruleset.prototype.rulesets.apply(this.rules)},markReferenced:function(){var e,t;if(this.isReferenced=!0,this.rules)for(t=this.rules.rules,e=0;e<t.length;e++)t[e].markReferenced&&t[e].markReferenced()}}}(i("../tree")),function(e){e.Element=function(t,i,n,o){this.combinator=t instanceof e.Combinator?t:new e.Combinator(t),this.value="string"==typeof i?i.trim():i||"",this.index=n,this.currentFileInfo=o},e.Element.prototype={type:"Element",accept:function(e){var t=this.value;this.combinator=e.visit(this.combinator),"object"==typeof t&&(this.value=e.visit(t))},eval:function(t){return new e.Element(this.combinator,this.value.eval?this.value.eval(t):this.value,this.index,this.currentFileInfo)},genCSS:function(e,t){t.add(this.toCSS(e),this.currentFileInfo,this.index)},toCSS:function(e){var t=this.value.toCSS?this.value.toCSS(e):this.value;return""===t&&"&"===this.combinator.value.charAt(0)?"":this.combinator.toCSS(e||{})+t}},e.Attribute=function(e,t,i){this.key=e,this.op=t,this.value=i},e.Attribute.prototype={type:"Attribute",eval:function(t){return new e.Attribute(this.key.eval?this.key.eval(t):this.key,this.op,this.value&&this.value.eval?this.value.eval(t):this.value)},genCSS:function(e,t){t.add(this.toCSS(e))},toCSS:function(e){var t=this.key.toCSS?this.key.toCSS(e):this.key;return this.op&&(t+=this.op,t+=this.value.toCSS?this.value.toCSS(e):this.value),"["+t+"]"}},e.Combinator=function(e){this.value=" "===e?" ":e?e.trim():""},e.Combinator.prototype={type:"Combinator",_outputMap:{"":""," ":" ",":":" :","+":" + ","~":" ~ ",">":" > ","|":"|","^":" ^ ","^^":" ^^ "},_outputMapCompressed:{"":""," ":" ",":":" :","+":"+","~":"~",">":">","|":"|","^":"^","^^":"^^"},genCSS:function(e,t){t.add((e.compress?this._outputMapCompressed:this._outputMap)[this.value])},toCSS:e.toCSS}}(i("../tree")),function(e){e.Expression=function(e){this.value=e},e.Expression.prototype={type:"Expression",accept:function(e){this.value&&(this.value=e.visitArray(this.value))},eval:function(t){var i,n=this.parens&&!this.parensInOp,o=!1;return n&&t.inParenthesis(),this.value.length>1?i=new e.Expression(this.value.map(function(e){return e.eval(t)})):1===this.value.length?(this.value[0].parens&&!this.value[0].parensInOp&&(o=!0),i=this.value[0].eval(t)):i=this,n&&t.outOfParenthesis(),this.parens&&this.parensInOp&&!t.isMathOn()&&!o&&(i=new e.Paren(i)),i},genCSS:function(e,t){for(var i=0;i<this.value.length;i++)this.value[i].genCSS(e,t),i+1<this.value.length&&t.add(" ")},toCSS:e.toCSS,throwAwayComments:function(){this.value=this.value.filter(function(t){return!(t instanceof e.Comment)})}}}(i("../tree")),function(e){e.Extend=function(t,i,n){switch(this.selector=t,this.option=i,this.index=n,this.object_id=e.Extend.next_id++,this.parent_ids=[this.object_id],i){case"all":this.allowBefore=!0,this.allowAfter=!0;break;default:this.allowBefore=!1,this.allowAfter=!1}},e.Extend.next_id=0,e.Extend.prototype={type:"Extend",accept:function(e){this.selector=e.visit(this.selector)},eval:function(t){return new e.Extend(this.selector.eval(t),this.option,this.index)},clone:function(t){return new e.Extend(this.selector,this.option,this.index)},findSelfSelectors:function(e){var t,i,n=[];for(t=0;t<e.length;t++)i=e[t].elements,t>0&&i.length&&""===i[0].combinator.value&&(i[0].combinator.value=" "),n=n.concat(e[t].elements);this.selfSelectors=[{elements:n}]}}}(i("../tree")),function(e){e.Import=function(e,i,n,o,s){if(this.options=n,this.index=o,this.path=e,this.features=i,this.currentFileInfo=s,this.options.less!==t||this.options.inline)this.css=!this.options.less||this.options.inline;else{var r=this.getPath();r&&/css([\?;].*)?$/.test(r)&&(this.css=!0)}},e.Import.prototype={type:"Import",accept:function(e){this.features&&(this.features=e.visit(this.features)),this.path=e.visit(this.path),!this.options.inline&&this.root&&(this.root=e.visit(this.root))},genCSS:function(e,t){this.css&&(t.add("@import ",this.currentFileInfo,this.index),this.path.genCSS(e,t),this.features&&(t.add(" "),this.features.genCSS(e,t)),t.add(";"))},toCSS:e.toCSS,getPath:function(){if(this.path instanceof e.Quoted){var i=this.path.value;return this.css!==t||/(\.[a-z]*$)|([\?;].*)$/.test(i)?i:i+".less"}return this.path instanceof e.URL?this.path.value.value:null},evalForImport:function(t){return new e.Import(this.path.eval(t),this.features,this.options,this.index,this.currentFileInfo)},evalPath:function(t){var i=this.path.eval(t),n=this.currentFileInfo&&this.currentFileInfo.rootpath;if(!(i instanceof e.URL)){if(n){var o=i.value;o&&t.isPathRelative(o)&&(i.value=n+o)}i.value=t.normalizePath(i.value)}return i},eval:function(t){var i,n=this.features&&this.features.eval(t);if(this.skip&&("function"==typeof this.skip&&(this.skip=this.skip()),this.skip))return[];if(this.options.inline){var o=new e.Anonymous(this.root,0,{filename:this.importedFilename},!0,!0);return this.features?new e.Media([o],this.features.value):[o]}if(this.css){var s=new e.Import(this.evalPath(t),n,this.options,this.index);if(!s.css&&this.error)throw this.error;return s}return(i=new e.Ruleset(null,this.root.rules.slice(0))).evalImports(t),this.features?new e.Media(i.rules,this.features.value):i.rules}}}(i("../tree")),function(e){e.JavaScript=function(e,t,i){this.escaped=i,this.expression=e,this.index=t},e.JavaScript.prototype={type:"JavaScript",eval:function(t){var i,n=this,o={},s=this.expression.replace(/@\{([\w-]+)\}/g,function(i,o){return e.jsify(new e.Variable("@"+o,n.index).eval(t))});try{s=new Function("return ("+s+")")}catch(e){throw{message:"JavaScript evaluation error: "+e.message+" from `"+s+"`",index:this.index}}var r=t.frames[0].variables();for(var a in r)r.hasOwnProperty(a)&&(o[a.slice(1)]={value:r[a].value,toJS:function(){return this.value.eval(t).toCSS()}});try{i=s.call(o)}catch(e){throw{message:"JavaScript evaluation error: '"+e.name+": "+e.message.replace(/["]/g,"'")+"'",index:this.index}}return"number"==typeof i?new e.Dimension(i):"string"==typeof i?new e.Quoted('"'+i+'"',i,this.escaped,this.index):Array.isArray(i)?new e.Anonymous(i.join(", ")):new e.Anonymous(i)}}}(i("../tree")),function(e){e.Keyword=function(e){this.value=e},e.Keyword.prototype={type:"Keyword",eval:function(){return this},genCSS:function(e,t){if("%"===this.value)throw{type:"Syntax",message:"Invalid % without number"};t.add(this.value)},toCSS:e.toCSS,compare:function(t){return t instanceof e.Keyword?t.value===this.value?0:1:-1}},e.True=new e.Keyword("true"),e.False=new e.Keyword("false")}(i("../tree")),function(e){e.Media=function(t,i,n,o){this.index=n,this.currentFileInfo=o;var s=this.emptySelectors();this.features=new e.Value(i),this.rules=[new e.Ruleset(s,t)],this.rules[0].allowImports=!0},e.Media.prototype={type:"Media",accept:function(e){this.features&&(this.features=e.visit(this.features)),this.rules&&(this.rules=e.visitArray(this.rules))},genCSS:function(t,i){i.add("@media ",this.currentFileInfo,this.index),this.features.genCSS(t,i),e.outputRuleset(t,i,this.rules)},toCSS:e.toCSS,eval:function(t){t.mediaBlocks||(t.mediaBlocks=[],t.mediaPath=[]);var i=new e.Media(null,[],this.index,this.currentFileInfo);this.debugInfo&&(this.rules[0].debugInfo=this.debugInfo,i.debugInfo=this.debugInfo);var n=!1;t.strictMath||(n=!0,t.strictMath=!0);try{i.features=this.features.eval(t)}finally{n&&(t.strictMath=!1)}return t.mediaPath.push(i),t.mediaBlocks.push(i),t.frames.unshift(this.rules[0]),i.rules=[this.rules[0].eval(t)],t.frames.shift(),t.mediaPath.pop(),0===t.mediaPath.length?i.evalTop(t):i.evalNested(t)},variable:function(t){return e.Ruleset.prototype.variable.call(this.rules[0],t)},find:function(){return e.Ruleset.prototype.find.apply(this.rules[0],arguments)},rulesets:function(){return e.Ruleset.prototype.rulesets.apply(this.rules[0])},emptySelectors:function(){var t=new e.Element("","&",this.index,this.currentFileInfo),i=[new e.Selector([t],null,null,this.index,this.currentFileInfo)];return i[0].mediaEmpty=!0,i},markReferenced:function(){var e,t=this.rules[0].rules;for(this.rules[0].markReferenced(),this.isReferenced=!0,e=0;e<t.length;e++)t[e].markReferenced&&t[e].markReferenced()},evalTop:function(t){var i=this;if(t.mediaBlocks.length>1){var n=this.emptySelectors();(i=new e.Ruleset(n,t.mediaBlocks)).multiMedia=!0}return delete t.mediaBlocks,delete t.mediaPath,i},evalNested:function(t){var i,n,o=t.mediaPath.concat([this]);for(i=0;i<o.length;i++)n=o[i].features instanceof e.Value?o[i].features.value:o[i].features,o[i]=Array.isArray(n)?n:[n];return this.features=new e.Value(this.permute(o).map(function(t){for(t=t.map(function(t){return t.toCSS?t:new e.Anonymous(t)}),i=t.length-1;i>0;i--)t.splice(i,0,new e.Anonymous("and"));return new e.Expression(t)})),new e.Ruleset([],[])},permute:function(e){if(0===e.length)return[];if(1===e.length)return e[0];for(var t=[],i=this.permute(e.slice(1)),n=0;n<i.length;n++)for(var o=0;o<e[0].length;o++)t.push([e[0][o]].concat(i[n]));return t},bubbleSelectors:function(t){t&&(this.rules=[new e.Ruleset(t.slice(0),[this.rules[0]])])}}}(i("../tree")),function(e){e.mixin={},e.mixin.Call=function(t,i,n,o,s){this.selector=new e.Selector(t),this.arguments=i&&i.length?i:null,this.index=n,this.currentFileInfo=o,this.important=s},e.mixin.Call.prototype={type:"MixinCall",accept:function(e){this.selector&&(this.selector=e.visit(this.selector)),this.arguments&&(this.arguments=e.visitArray(this.arguments))},eval:function(t){var i,n,o,s,r,a,l,c,u,h,d,f,p,m=[],v=!1,g=[],y=[],b=e.defaultFunc;for(o=this.arguments&&this.arguments.map(function(e){return{name:e.name,value:e.value.eval(t)}}),s=0;s<t.frames.length;s++)if((i=t.frames[s].find(this.selector)).length>0){for(c=!0,r=0;r<i.length;r++){for(n=i[r],l=!1,a=0;a<t.frames.length;a++)if(!(n instanceof e.mixin.Definition)&&n===(t.frames[a].originalRuleset||t.frames[a])){l=!0;break}if(!l&&n.matchArgs(o,t)){if(h={mixin:n,group:0},n.matchCondition){for(a=0;a<2;a++)b.value(a),y[a]=n.matchCondition(o,t);(y[0]||y[1])&&(y[0]!=y[1]&&(h.group=y[1]?1:2),g.push(h))}else g.push(h);v=!0}}for(b.reset(),f=[0,0,0],r=0;r<g.length;r++)f[g[r].group]++;if(f[0]>0)d=2;else if(d=1,f[1]+f[2]>1)throw{type:"Runtime",message:"Ambiguous use of `default()` found when matching for `"+this.format(o)+"`",index:this.index,filename:this.currentFileInfo.filename};for(r=0;r<g.length;r++)if(0===(h=g[r].group)||h===d)try{(n=g[r].mixin)instanceof e.mixin.Definition||(p=n.originalRuleset||n,(n=new e.mixin.Definition("",[],n.rules,null,!1)).originalRuleset=p),Array.prototype.push.apply(m,n.evalCall(t,o,this.important).rules)}catch(e){throw{message:e.message,index:this.index,filename:this.currentFileInfo.filename,stack:e.stack}}if(v){if(!this.currentFileInfo||!this.currentFileInfo.reference)for(s=0;s<m.length;s++)(u=m[s]).markReferenced&&u.markReferenced();return m}}throw c?{type:"Runtime",message:"No matching definition was found for `"+this.format(o)+"`",index:this.index,filename:this.currentFileInfo.filename}:{type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.currentFileInfo.filename}},format:function(e){return this.selector.toCSS().trim()+"("+(e?e.map(function(e){var t="";return e.name&&(t+=e.name+":"),e.value.toCSS?t+=e.value.toCSS():t+="???",t}).join(", "):"")+")"}},e.mixin.Definition=function(t,i,n,o,s,r){this.name=t,this.selectors=[new e.Selector([new e.Element(null,t,this.index,this.currentFileInfo)])],this.params=i,this.condition=o,this.variadic=s,this.arity=i.length,this.rules=n,this._lookups={},this.required=i.reduce(function(e,t){return!t.name||t.name&&!t.value?e+1:e},0),this.parent=e.Ruleset.prototype,this.frames=r},e.mixin.Definition.prototype={type:"MixinDefinition",accept:function(e){this.params&&this.params.length&&(this.params=e.visitArray(this.params)),this.rules=e.visitArray(this.rules),this.condition&&(this.condition=e.visit(this.condition))},variable:function(e){return this.parent.variable.call(this,e)},variables:function(){return this.parent.variables.call(this)},find:function(){return this.parent.find.apply(this,arguments)},rulesets:function(){return this.parent.rulesets.apply(this)},evalParams:function(t,i,n,o){var s,r,a,l,c,u,h,d,f=new e.Ruleset(null,null),p=this.params.slice(0),m=0;if(i=new e.evalEnv(i,[f].concat(i.frames)),n)for(m=(n=n.slice(0)).length,a=0;a<m;a++)if(u=(r=n[a])&&r.name){for(h=!1,l=0;l<p.length;l++)if(!o[l]&&u===p[l].name){o[l]=r.value.eval(t),f.prependRule(new e.Rule(u,r.value.eval(t))),h=!0;break}if(h){n.splice(a,1),a--;continue}throw{type:"Runtime",message:"Named argument for "+this.name+" "+n[a].name+" not found"}}for(d=0,a=0;a<p.length;a++)if(!o[a]){if(r=n&&n[d],u=p[a].name)if(p[a].variadic){for(s=[],l=d;l<m;l++)s.push(n[l].value.eval(t));f.prependRule(new e.Rule(u,new e.Expression(s).eval(t)))}else{if(c=r&&r.value)c=c.eval(t);else{if(!p[a].value)throw{type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+m+" for "+this.arity+")"};c=p[a].value.eval(i),f.resetCache()}f.prependRule(new e.Rule(u,c)),o[a]=c}if(p[a].variadic&&n)for(l=d;l<m;l++)o[l]=n[l].value.eval(t);d++}return f},eval:function(t){return new e.mixin.Definition(this.name,this.params,this.rules,this.condition,this.variadic,this.frames||t.frames.slice(0))},evalCall:function(t,i,n){var o,s,r=[],a=this.frames?this.frames.concat(t.frames):t.frames,l=this.evalParams(t,new e.evalEnv(t,a),i,r);return l.prependRule(new e.Rule("@arguments",new e.Expression(r).eval(t))),o=this.rules.slice(0),(s=new e.Ruleset(null,o)).originalRuleset=this,s=s.eval(new e.evalEnv(t,[this,l].concat(a))),n&&(s=this.parent.makeImportant.apply(s)),s},matchCondition:function(t,i){return!(this.condition&&!this.condition.eval(new e.evalEnv(i,[this.evalParams(i,new e.evalEnv(i,this.frames?this.frames.concat(i.frames):i.frames),t,[])].concat(this.frames).concat(i.frames))))},matchArgs:function(e,t){var i,n=e&&e.length||0;if(this.variadic){if(n<this.required-1)return!1}else{if(n<this.required)return!1;if(n>this.params.length)return!1}i=Math.min(n,this.arity);for(var o=0;o<i;o++)if(!this.params[o].name&&!this.params[o].variadic&&e[o].value.eval(t).toCSS()!=this.params[o].value.eval(t).toCSS())return!1;return!0}}}(i("../tree")),function(e){e.Negative=function(e){this.value=e},e.Negative.prototype={type:"Negative",accept:function(e){this.value=e.visit(this.value)},genCSS:function(e,t){t.add("-"),this.value.genCSS(e,t)},toCSS:e.toCSS,eval:function(t){return t.isMathOn()?new e.Operation("*",[new e.Dimension(-1),this.value]).eval(t):new e.Negative(this.value.eval(t))}}}(i("../tree")),function(e){e.Operation=function(e,t,i){this.op=e.trim(),this.operands=t,this.isSpaced=i},e.Operation.prototype={type:"Operation",accept:function(e){this.operands=e.visit(this.operands)},eval:function(t){var i=this.operands[0].eval(t),n=this.operands[1].eval(t);if(t.isMathOn()){if(i instanceof e.Dimension&&n instanceof e.Color&&(i=i.toColor()),n instanceof e.Dimension&&i instanceof e.Color&&(n=n.toColor()),!i.operate)throw{type:"Operation",message:"Operation on an invalid type"};return i.operate(t,this.op,n)}return new e.Operation(this.op,[i,n],this.isSpaced)},genCSS:function(e,t){this.operands[0].genCSS(e,t),this.isSpaced&&t.add(" "),t.add(this.op),this.isSpaced&&t.add(" "),this.operands[1].genCSS(e,t)},toCSS:e.toCSS},e.operate=function(e,t,i,n){switch(t){case"+":return i+n;case"-":return i-n;case"*":return i*n;case"/":return i/n}}}(i("../tree")),function(e){e.Paren=function(e){this.value=e},e.Paren.prototype={type:"Paren",accept:function(e){this.value=e.visit(this.value)},genCSS:function(e,t){t.add("("),this.value.genCSS(e,t),t.add(")")},toCSS:e.toCSS,eval:function(t){return new e.Paren(this.value.eval(t))}}}(i("../tree")),function(e){e.Quoted=function(e,t,i,n,o){this.escaped=i,this.value=t||"",this.quote=e.charAt(0),this.index=n,this.currentFileInfo=o},e.Quoted.prototype={type:"Quoted",genCSS:function(e,t){this.escaped||t.add(this.quote,this.currentFileInfo,this.index),t.add(this.value),this.escaped||t.add(this.quote)},toCSS:e.toCSS,eval:function(t){var i=this,n=this.value.replace(/`([^`]+)`/g,function(n,o){return new e.JavaScript(o,i.index,!0).eval(t).value}).replace(/@\{([\w-]+)\}/g,function(n,o){var s=new e.Variable("@"+o,i.index,i.currentFileInfo).eval(t,!0);return s instanceof e.Quoted?s.value:s.toCSS()});return new e.Quoted(this.quote+n+this.quote,n,this.escaped,this.index,this.currentFileInfo)},compare:function(e){return e.toCSS?("Quoted"!==e.type||this.escaped||e.escaped?(t=this.toCSS(),i=e.toCSS()):(t=e.value,i=this.value),t===i?0:t<i?-1:1):-1;var t,i}}}(i("../tree")),function(e){e.Rule=function(t,i,n,o,s,r,a){this.name=t,this.value=i instanceof e.Value||i instanceof e.Ruleset?i:new e.Value([i]),this.important=n?" "+n.trim():"",this.merge=o,this.index=s,this.currentFileInfo=r,this.inline=a||!1,this.variable=t.charAt&&"@"===t.charAt(0)},e.Rule.prototype={type:"Rule",accept:function(e){this.value=e.visit(this.value)},genCSS:function(e,t){t.add(this.name+(e.compress?":":": "),this.currentFileInfo,this.index);try{this.value.genCSS(e,t)}catch(e){throw e.index=this.index,e.filename=this.currentFileInfo.filename,e}t.add(this.important+(this.inline||e.lastRule&&e.compress?"":";"),this.currentFileInfo,this.index)},toCSS:e.toCSS,eval:function(t){var i,n=!1,o=this.name;"string"!=typeof o&&(o=1===o.length&&o[0]instanceof e.Keyword?o[0].value:function(e,t){var i,n="",o=t.length,s={add:function(e){n+=e}};for(i=0;i<o;i++)t[i].eval(e).genCSS(e,s);return n}(t,o)),"font"!==o||t.strictMath||(n=!0,t.strictMath=!0);try{if(i=this.value.eval(t),!this.variable&&"DetachedRuleset"===i.type)throw{message:"Rulesets cannot be evaluated on a property.",index:this.index,filename:this.currentFileInfo.filename};return new e.Rule(o,i,this.important,this.merge,this.index,this.currentFileInfo,this.inline)}catch(e){throw"number"!=typeof e.index&&(e.index=this.index,e.filename=this.currentFileInfo.filename),e}finally{n&&(t.strictMath=!1)}},makeImportant:function(){return new e.Rule(this.name,this.value,"!important",this.merge,this.index,this.currentFileInfo,this.inline)}}}(i("../tree")),function(e){e.RulesetCall=function(e){this.variable=e},e.RulesetCall.prototype={type:"RulesetCall",accept:function(e){},eval:function(t){return new e.Variable(this.variable).eval(t).callEval(t)}}}(i("../tree")),function(e){e.Ruleset=function(e,t,i){this.selectors=e,this.rules=t,this._lookups={},this.strictImports=i},e.Ruleset.prototype={type:"Ruleset",accept:function(e){this.paths?e.visitArray(this.paths,!0):this.selectors&&(this.selectors=e.visitArray(this.selectors)),this.rules&&this.rules.length&&(this.rules=e.visitArray(this.rules))},eval:function(t){var i,n,o,s,r=this.selectors,a=e.defaultFunc,l=!1;if(r&&(n=r.length)){for(i=[],a.error({type:"Syntax",message:"it is currently only allowed in parametric mixin guards,"}),s=0;s<n;s++)o=r[s].eval(t),i.push(o),o.evaldCondition&&(l=!0);a.reset()}else l=!0;var c,u,h=this.rules?this.rules.slice(0):null,d=new e.Ruleset(i,h,this.strictImports);d.originalRuleset=this,d.root=this.root,d.firstRoot=this.firstRoot,d.allowImports=this.allowImports,this.debugInfo&&(d.debugInfo=this.debugInfo),l||(h.length=0);var f=t.frames;f.unshift(d);var p=t.selectors;p||(t.selectors=p=[]),p.unshift(this.selectors),(d.root||d.allowImports||!d.strictImports)&&d.evalImports(t);var m=d.rules,v=m?m.length:0;for(s=0;s<v;s++)(m[s]instanceof e.mixin.Definition||m[s]instanceof e.DetachedRuleset)&&(m[s]=m[s].eval(t));var g=t.mediaBlocks&&t.mediaBlocks.length||0;for(s=0;s<v;s++)m[s]instanceof e.mixin.Call?(h=m[s].eval(t).filter(function(t){return!(t instanceof e.Rule&&t.variable)||!d.variable(t.name)}),m.splice.apply(m,[s,1].concat(h)),v+=h.length-1,s+=h.length-1,d.resetCache()):m[s]instanceof e.RulesetCall&&(h=m[s].eval(t).rules.filter(function(t){return!(t instanceof e.Rule&&t.variable)}),m.splice.apply(m,[s,1].concat(h)),v+=h.length-1,s+=h.length-1,d.resetCache());for(s=0;s<m.length;s++)(c=m[s])instanceof e.mixin.Definition||c instanceof e.DetachedRuleset||(m[s]=c=c.eval?c.eval(t):c);for(s=0;s<m.length;s++)if((c=m[s])instanceof e.Ruleset&&c.selectors&&1===c.selectors.length&&c.selectors[0].isJustParentSelector()){m.splice(s--,1);for(var y=0;y<c.rules.length;y++)(u=c.rules[y])instanceof e.Rule&&u.variable||m.splice(++s,0,u)}if(f.shift(),p.shift(),t.mediaBlocks)for(s=g;s<t.mediaBlocks.length;s++)t.mediaBlocks[s].bubbleSelectors(i);return d},evalImports:function(t){var i,n,o=this.rules;if(o)for(i=0;i<o.length;i++)o[i]instanceof e.Import&&((n=o[i].eval(t))&&n.length?(o.splice.apply(o,[i,1].concat(n)),i+=n.length-1):o.splice(i,1,n),this.resetCache())},makeImportant:function(){return new e.Ruleset(this.selectors,this.rules.map(function(e){return e.makeImportant?e.makeImportant():e}),this.strictImports)},matchArgs:function(e){return!e||0===e.length},matchCondition:function(t,i){var n=this.selectors[this.selectors.length-1];return!!n.evaldCondition&&!(n.condition&&!n.condition.eval(new e.evalEnv(i,i.frames)))},resetCache:function(){this._rulesets=null,this._variables=null,this._lookups={}},variables:function(){return this._variables||(this._variables=this.rules?this.rules.reduce(function(t,i){return i instanceof e.Rule&&!0===i.variable&&(t[i.name]=i),t},{}):{}),this._variables},variable:function(e){return this.variables()[e]},rulesets:function(){if(!this.rules)return null;var t,i,n=e.Ruleset,o=e.mixin.Definition,s=[],r=this.rules,a=r.length;for(t=0;t<a;t++)((i=r[t])instanceof n||i instanceof o)&&s.push(i);return s},prependRule:function(e){var t=this.rules;t?t.unshift(e):this.rules=[e]},find:function(t,i){i=i||this;var n,o=[],s=t.toCSS();return s in this._lookups?this._lookups[s]:(this.rulesets().forEach(function(s){if(s!==i)for(var r=0;r<s.selectors.length;r++)if(n=t.match(s.selectors[r])){t.elements.length>n?Array.prototype.push.apply(o,s.find(new e.Selector(t.elements.slice(n)),i)):o.push(s);break}}),this._lookups[s]=o,o)},genCSS:function(t,i){var n,o,s,r,a,l,c=[],u=[];t.tabLevel=t.tabLevel||0,this.root||t.tabLevel++;var h,d=t.compress?"":Array(t.tabLevel+1).join("  "),f=t.compress?"":Array(t.tabLevel).join("  ");function p(t,i){return!!t.rules||(!!(t instanceof e.Media||i&&t instanceof e.Comment)||(t instanceof e.Directive||t instanceof e.Anonymous)&&t.isRulesetLike())}for(n=0;n<this.rules.length;n++)p(a=this.rules[n],this.root)?u.push(a):c.push(a);if(!this.root){(r=e.debugInfo(t,this,f))&&(i.add(r),i.add(f));var m,v=this.paths,g=v.length;for(h=t.compress?",":",\n"+f,n=0;n<g;n++)if(m=(l=v[n]).length)for(n>0&&i.add(h),t.firstSelector=!0,l[0].genCSS(t,i),t.firstSelector=!1,o=1;o<m;o++)l[o].genCSS(t,i);i.add((t.compress?"{":" {\n")+d)}for(n=0;n<c.length;n++)a=c[n],n+1!==c.length||this.root&&0!==u.length&&!this.firstRoot||(t.lastRule=!0),a.genCSS?a.genCSS(t,i):a.value&&i.add(a.value.toString()),t.lastRule?t.lastRule=!1:i.add(t.compress?"":"\n"+d);if(this.root||(i.add(t.compress?"}":"\n"+f+"}"),t.tabLevel--),h=(t.compress?"":"\n")+(this.root?d:f),s=u.length)for(c.length&&h&&i.add(h),u[0].genCSS(t,i),n=1;n<s;n++)h&&i.add(h),u[n].genCSS(t,i);i.isEmpty()||t.compress||!this.firstRoot||i.add("\n")},toCSS:e.toCSS,markReferenced:function(){if(this.selectors)for(var e=0;e<this.selectors.length;e++)this.selectors[e].markReferenced()},joinSelectors:function(e,t,i){for(var n=0;n<i.length;n++)this.joinSelector(e,t,i[n])},joinSelector:function(t,i,n){var o,s,r,a,l,c,u,h,d,f,p,m,v,g,y;for(o=0;o<n.elements.length;o++)"&"===(c=n.elements[o]).value&&(a=!0);if(a){for(g=[],l=[[]],o=0;o<n.elements.length;o++)if("&"!==(c=n.elements[o]).value)g.push(c);else{for(y=[],g.length>0&&this.mergeElementsOnToSelectors(g,l),s=0;s<l.length;s++)if(u=l[s],0===i.length)u.length>0&&(u[0].elements=u[0].elements.slice(0),u[0].elements.push(new e.Element(c.combinator,"",c.index,c.currentFileInfo))),y.push(u);else for(r=0;r<i.length;r++)h=i[r],d=[],f=[],m=!0,u.length>0?(v=(d=u.slice(0)).pop(),p=n.createDerived(v.elements.slice(0)),m=!1):p=n.createDerived([]),h.length>1&&(f=f.concat(h.slice(1))),h.length>0&&(m=!1,p.elements.push(new e.Element(c.combinator,h[0].elements[0].value,c.index,c.currentFileInfo)),p.elements=p.elements.concat(h[0].elements.slice(1))),m||d.push(p),d=d.concat(f),y.push(d);l=y,g=[]}for(g.length>0&&this.mergeElementsOnToSelectors(g,l),o=0;o<l.length;o++)l[o].length>0&&t.push(l[o])}else if(i.length>0)for(o=0;o<i.length;o++)t.push(i[o].concat(n));else t.push([n])},mergeElementsOnToSelectors:function(t,i){var n,o;if(0!==i.length)for(n=0;n<i.length;n++)(o=i[n]).length>0?o[o.length-1]=o[o.length-1].createDerived(o[o.length-1].elements.concat(t)):o.push(new e.Selector(t));else i.push([new e.Selector(t)])}}}(i("../tree")),function(e){e.Selector=function(e,t,i,n,o,s){this.elements=e,this.extendList=t,this.condition=i,this.currentFileInfo=o||{},this.isReferenced=s,i||(this.evaldCondition=!0)},e.Selector.prototype={type:"Selector",accept:function(e){this.elements&&(this.elements=e.visitArray(this.elements)),this.extendList&&(this.extendList=e.visitArray(this.extendList)),this.condition&&(this.condition=e.visit(this.condition))},createDerived:function(t,i,n){n=null!=n?n:this.evaldCondition;var o=new e.Selector(t,i||this.extendList,null,this.index,this.currentFileInfo,this.isReferenced);return o.evaldCondition=n,o.mediaEmpty=this.mediaEmpty,o},match:function(e){var t,i,n=this.elements,o=n.length;if(e.CacheElements(),0===(t=e._elements.length)||o<t)return 0;for(i=0;i<t;i++)if(n[i].value!==e._elements[i])return 0;return t},CacheElements:function(){var e,t,i,n="";if(!this._elements){for(e=this.elements.length,i=0;i<e;i++)if(n+=(t=this.elements[i]).combinator.value,t.value.value){if("string"!=typeof t.value.value){n="";break}n+=t.value.value}else n+=t.value;this._elements=n.match(/[,&#\.\w-]([\w-]|(\\.))*/g),this._elements?"&"===this._elements[0]&&this._elements.shift():this._elements=[]}},isJustParentSelector:function(){return!this.mediaEmpty&&1===this.elements.length&&"&"===this.elements[0].value&&(" "===this.elements[0].combinator.value||""===this.elements[0].combinator.value)},eval:function(e){var t=this.condition&&this.condition.eval(e),i=this.elements,n=this.extendList;return i=i&&i.map(function(t){return t.eval(e)}),n=n&&n.map(function(t){return t.eval(e)}),this.createDerived(i,n,t)},genCSS:function(e,t){var i;if(e&&e.firstSelector||""!==this.elements[0].combinator.value||t.add(" ",this.currentFileInfo,this.index),!this._css)for(i=0;i<this.elements.length;i++)this.elements[i].genCSS(e,t)},toCSS:e.toCSS,markReferenced:function(){this.isReferenced=!0},getIsReferenced:function(){return!this.currentFileInfo.reference||this.isReferenced},getIsOutput:function(){return this.evaldCondition}}}(i("../tree")),function(e){e.UnicodeDescriptor=function(e){this.value=e},e.UnicodeDescriptor.prototype={type:"UnicodeDescriptor",genCSS:function(e,t){t.add(this.value)},toCSS:e.toCSS,eval:function(){return this}}}(i("../tree")),function(e){e.URL=function(e,t,i){this.value=e,this.currentFileInfo=t,this.isEvald=i},e.URL.prototype={type:"Url",accept:function(e){this.value=e.visit(this.value)},genCSS:function(e,t){t.add("url("),this.value.genCSS(e,t),t.add(")")},toCSS:e.toCSS,eval:function(t){var i,n=this.value.eval(t);if(!this.isEvald&&((i=this.currentFileInfo&&this.currentFileInfo.rootpath)&&"string"==typeof n.value&&t.isPathRelative(n.value)&&(n.quote||(i=i.replace(/[\(\)'"\s]/g,function(e){return"\\"+e})),n.value=i+n.value),n.value=t.normalizePath(n.value),t.urlArgs&&!n.value.match(/^\s*data:/))){var o=(-1===n.value.indexOf("?")?"?":"&")+t.urlArgs;-1!==n.value.indexOf("#")?n.value=n.value.replace("#",o+"#"):n.value+=o}return new e.URL(n,this.currentFileInfo,!0)}}}(i("../tree")),function(e){e.Value=function(e){this.value=e},e.Value.prototype={type:"Value",accept:function(e){this.value&&(this.value=e.visitArray(this.value))},eval:function(t){return 1===this.value.length?this.value[0].eval(t):new e.Value(this.value.map(function(e){return e.eval(t)}))},genCSS:function(e,t){var i;for(i=0;i<this.value.length;i++)this.value[i].genCSS(e,t),i+1<this.value.length&&t.add(e&&e.compress?",":", ")},toCSS:e.toCSS}}(i("../tree")),function(e){e.Variable=function(e,t,i){this.name=e,this.index=t,this.currentFileInfo=i||{}},e.Variable.prototype={type:"Variable",eval:function(t){var i,n=this.name;if(0===n.indexOf("@@")&&(n="@"+new e.Variable(n.slice(1)).eval(t).value),this.evaluating)throw{type:"Name",message:"Recursive variable definition for "+n,filename:this.currentFileInfo.file,index:this.index};if(this.evaluating=!0,i=e.find(t.frames,function(e){var i=e.variable(n);if(i)return i.value.eval(t)}))return this.evaluating=!1,i;throw{type:"Name",message:"variable "+n+" is undefined",filename:this.currentFileInfo.filename,index:this.index}}}}(i("../tree")),function(e){var t=["paths","optimization","files","contents","contentsIgnoredChars","relativeUrls","rootpath","strictImports","insecure","dumpLineNumbers","compress","processImports","syncImport","javascriptEnabled","mime","useFileCache","currentFileInfo"];e.parseEnv=function(e){if(n(e,this,t),this.contents||(this.contents={}),this.contentsIgnoredChars||(this.contentsIgnoredChars={}),this.files||(this.files={}),"string"==typeof this.paths&&(this.paths=[this.paths]),!this.currentFileInfo){var i=e&&e.filename||"input",o=i.replace(/[^\/\\]*$/,"");e&&(e.filename=null),this.currentFileInfo={filename:i,relativeUrls:this.relativeUrls,rootpath:e&&e.rootpath||"",currentDirectory:o,entryPath:o,rootFilename:i}}};var i=["silent","verbose","compress","yuicompress","ieCompat","strictMath","strictUnits","cleancss","sourceMap","importMultiple","urlArgs"];e.evalEnv=function(e,t){n(e,this,i),this.frames=t||[]},e.evalEnv.prototype.inParenthesis=function(){this.parensStack||(this.parensStack=[]),this.parensStack.push(!0)},e.evalEnv.prototype.outOfParenthesis=function(){this.parensStack.pop()},e.evalEnv.prototype.isMathOn=function(){return!this.strictMath||this.parensStack&&this.parensStack.length},e.evalEnv.prototype.isPathRelative=function(e){return!/^(?:[a-z-]+:|\/)/.test(e)},e.evalEnv.prototype.normalizePath=function(e){var t,i=e.split("/").reverse();for(e=[];0!==i.length;)switch(t=i.pop()){case".":break;case"..":0===e.length||".."===e[e.length-1]?e.push(t):e.pop();break;default:e.push(t)}return e.join("/")};var n=function(e,t,i){if(e)for(var n=0;n<i.length;n++)e.hasOwnProperty(i[n])&&(t[i[n]]=e[i[n]])}}(i("./tree")),function(e){var t={visitDeeper:!0},i=!1;function n(e){return e}e.visitor=function(t){this._implementation=t,this._visitFnCache=[],i||(!function e(t,i){var n,o;for(n in t)if(t.hasOwnProperty(n))switch(typeof(o=t[n])){case"function":o.prototype&&o.prototype.type&&(o.prototype.typeIndex=i++);break;case"object":i=e(o,i)}return i}(e,1),i=!0)},e.visitor.prototype={visit:function(e){if(!e)return e;var i=e.typeIndex;if(!i)return e;var o,s=this._visitFnCache,r=this._implementation,a=i<<1,l=1|a,c=s[a],u=s[l],h=t;if(h.visitDeeper=!0,c||(c=r[o="visit"+e.type]||n,u=r[o+"Out"]||n,s[a]=c,s[l]=u),c!==n){var d=c.call(r,e,h);r.isReplacing&&(e=d)}return h.visitDeeper&&e&&e.accept&&e.accept(this),u!=n&&u.call(r,e),e},visitArray:function(e,t){if(!e)return e;var i,n=e.length;if(t||!this._implementation.isReplacing){for(i=0;i<n;i++)this.visit(e[i]);return e}var o=[];for(i=0;i<n;i++){var s=this.visit(e[i]);s.splice?s.length&&this.flatten(s,o):o.push(s)}return o},flatten:function(e,t){var i,n,o,s,r,a;for(t||(t=[]),n=0,i=e.length;n<i;n++)if((o=e[n]).splice)for(r=0,s=o.length;r<s;r++)(a=o[r]).splice?a.length&&this.flatten(a,t):t.push(a);else t.push(o);return t}}}(i("./tree")),function(e){e.importVisitor=function(t,i,n,o,s){if(this._visitor=new e.visitor(this),this._importer=t,this._finish=i,this.env=n||new e.evalEnv,this.importCount=0,this.onceFileDetectionMap=o||{},this.recursionDetector={},s)for(var r in s)s.hasOwnProperty(r)&&(this.recursionDetector[r]=!0)},e.importVisitor.prototype={isReplacing:!0,run:function(e){var t;try{this._visitor.visit(e)}catch(e){t=e}this.isFinished=!0,0===this.importCount&&this._finish(t)},visitImport:function(t,i){var n,o=this,s=t.options.inline;if(!t.css||s){try{n=t.evalForImport(this.env)}catch(e){e.filename||(e.index=t.index,e.filename=t.currentFileInfo.filename),t.css=!0,t.error=e}if(n&&(!n.css||s)){t=n,this.importCount++;var r=new e.evalEnv(this.env,this.env.frames.slice(0));t.options.multiple&&(r.importMultiple=!0),this._importer.push(t.getPath(),t.currentFileInfo,t.options,function(i,n,a,l){i&&!i.filename&&(i.index=t.index,i.filename=t.currentFileInfo.filename);var c=a||l in o.recursionDetector;r.importMultiple||(t.skip=!!c||function(){return l in o.onceFileDetectionMap||(o.onceFileDetectionMap[l]=!0,!1)});var u=function(e){o.importCount--,0===o.importCount&&o.isFinished&&o._finish(e)};if(n&&(t.root=n,t.importedFilename=l,!s&&(r.importMultiple||!c)))return o.recursionDetector[l]=!0,void new e.importVisitor(o._importer,u,r,o.onceFileDetectionMap,o.recursionDetector).run(n);u()})}}return i.visitDeeper=!1,t},visitRule:function(e,t){return t.visitDeeper=!1,e},visitDirective:function(e,t){return this.env.frames.unshift(e),e},visitDirectiveOut:function(e){this.env.frames.shift()},visitMixinDefinition:function(e,t){return this.env.frames.unshift(e),e},visitMixinDefinitionOut:function(e){this.env.frames.shift()},visitRuleset:function(e,t){return this.env.frames.unshift(e),e},visitRulesetOut:function(e){this.env.frames.shift()},visitMedia:function(e,t){return this.env.frames.unshift(e.ruleset),e},visitMediaOut:function(e){this.env.frames.shift()}}}(i("./tree")),function(e){e.joinSelectorVisitor=function(){this.contexts=[[]],this._visitor=new e.visitor(this)},e.joinSelectorVisitor.prototype={run:function(e){return this._visitor.visit(e)},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitRuleset:function(e,t){var i,n=this.contexts[this.contexts.length-1],o=[];this.contexts.push(o),e.root||((i=e.selectors)&&(i=i.filter(function(e){return e.getIsOutput()}),e.selectors=i.length?i:i=null,i&&e.joinSelectors(o,n,i)),i||(e.rules=null),e.paths=o)},visitRulesetOut:function(e){this.contexts.length=this.contexts.length-1},visitMedia:function(e,t){var i=this.contexts[this.contexts.length-1];e.rules[0].root=0===i.length||i[0].multiMedia}}}(i("./tree")),function(e){e.toCSSVisitor=function(t){this._visitor=new e.visitor(this),this._env=t},e.toCSSVisitor.prototype={isReplacing:!0,run:function(e){return this._visitor.visit(e)},visitRule:function(e,t){return e.variable?[]:e},visitMixinDefinition:function(e,t){return e.frames=[],[]},visitExtend:function(e,t){return[]},visitComment:function(e,t){return e.isSilent(this._env)?[]:e},visitMedia:function(e,t){return e.accept(this._visitor),t.visitDeeper=!1,e.rules.length?e:[]},visitDirective:function(t,i){if(t.currentFileInfo.reference&&!t.isReferenced)return[];if("@charset"===t.name){if(this.charset){if(t.debugInfo){var n=new e.Comment("/* "+t.toCSS(this._env).replace(/\n/g,"")+" */\n");return n.debugInfo=t.debugInfo,this._visitor.visit(n)}return[]}this.charset=!0}return t.rules&&t.rules.rules&&this._mergeRules(t.rules.rules),t},checkPropertiesInRoot:function(t){for(var i,n=0;n<t.length;n++)if((i=t[n])instanceof e.Rule&&!i.variable)throw{message:"properties must be inside selector blocks, they cannot be in the root.",index:i.index,filename:i.currentFileInfo?i.currentFileInfo.filename:null}},visitRuleset:function(t,i){var n,o=[];if(t.firstRoot&&this.checkPropertiesInRoot(t.rules),t.root)t.accept(this._visitor),i.visitDeeper=!1,(t.firstRoot||t.rules&&t.rules.length>0)&&o.splice(0,0,t);else{t.paths&&(t.paths=t.paths.filter(function(t){var i;for(" "===t[0].elements[0].combinator.value&&(t[0].elements[0].combinator=new e.Combinator("")),i=0;i<t.length;i++)if(t[i].getIsReferenced()&&t[i].getIsOutput())return!0;return!1}));for(var s=t.rules,r=s?s.length:0,a=0;a<r;)(n=s[a])&&n.rules?(o.push(this._visitor.visit(n)),s.splice(a,1),r--):a++;r>0?t.accept(this._visitor):t.rules=null,i.visitDeeper=!1,(s=t.rules)&&(this._mergeRules(s),s=t.rules),s&&(this._removeDuplicateRules(s),s=t.rules),s&&s.length>0&&t.paths.length>0&&o.splice(0,0,t)}return 1===o.length?o[0]:o},_removeDuplicateRules:function(t){if(t){var i,n,o,s={};for(o=t.length-1;o>=0;o--)if((n=t[o])instanceof e.Rule)if(s[n.name]){(i=s[n.name])instanceof e.Rule&&(i=s[n.name]=[s[n.name].toCSS(this._env)]);var r=n.toCSS(this._env);-1!==i.indexOf(r)?t.splice(o,1):i.push(r)}else s[n.name]=n}},_mergeRules:function(t){if(t){for(var i,n,o,s={},r=0;r<t.length;r++)(n=t[r])instanceof e.Rule&&n.merge&&(o=[n.name,n.important?"!":""].join(","),s[o]?t.splice(r--,1):s[o]=[],s[o].push(n));Object.keys(s).map(function(t){function o(t){return new e.Expression(t.map(function(e){return e.value}))}if((i=s[t]).length>1){n=i[0];var r=[],a=[];i.map(function(e){"+"===e.merge&&(a.length>0&&r.push(o(a)),a=[]),a.push(e)}),r.push(o(a)),n.value=(l=r,new e.Value(l.map(function(e){return e})))}var l})}}}}(i("./tree")),function(e){e.extendFinderVisitor=function(){this._visitor=new e.visitor(this),this.contexts=[],this.allExtendsStack=[[]]},e.extendFinderVisitor.prototype={run:function(e){return(e=this._visitor.visit(e)).allExtends=this.allExtendsStack[0],e},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitRuleset:function(t,i){if(!t.root){var n,o,s,r,a=[],l=t.rules,c=l?l.length:0;for(n=0;n<c;n++)t.rules[n]instanceof e.Extend&&(a.push(l[n]),t.extendOnEveryPath=!0);var u=t.paths;for(n=0;n<u.length;n++){var h=u[n],d=h[h.length-1].extendList;for((r=d?d.slice(0).concat(a):a)&&(r=r.map(function(e){return e.clone()})),o=0;o<r.length;o++)this.foundExtends=!0,(s=r[o]).findSelfSelectors(h),s.ruleset=t,0===o&&(s.firstExtendOnThisSelectorPath=!0),this.allExtendsStack[this.allExtendsStack.length-1].push(s)}this.contexts.push(t.selectors)}},visitRulesetOut:function(e){e.root||(this.contexts.length=this.contexts.length-1)},visitMedia:function(e,t){e.allExtends=[],this.allExtendsStack.push(e.allExtends)},visitMediaOut:function(e){this.allExtendsStack.length=this.allExtendsStack.length-1},visitDirective:function(e,t){e.allExtends=[],this.allExtendsStack.push(e.allExtends)},visitDirectiveOut:function(e){this.allExtendsStack.length=this.allExtendsStack.length-1}},e.processExtendsVisitor=function(){this._visitor=new e.visitor(this)},e.processExtendsVisitor.prototype={run:function(t){var i=new e.extendFinderVisitor;return i.run(t),i.foundExtends?(t.allExtends=t.allExtends.concat(this.doExtendChaining(t.allExtends,t.allExtends)),this.allExtendsStack=[t.allExtends],this._visitor.visit(t)):t},doExtendChaining:function(t,i,n){var o,s,r,a,l,c,u,h,d=[],f=this;for(n=n||0,o=0;o<t.length;o++)for(s=0;s<i.length;s++)c=t[o],u=i[s],c.parent_ids.indexOf(u.object_id)>=0||(l=[u.selfSelectors[0]],(r=f.findMatch(c,l)).length&&c.selfSelectors.forEach(function(t){a=f.extendSelector(r,l,t),(h=new e.Extend(u.selector,u.option,0)).selfSelectors=a,a[a.length-1].extendList=[h],d.push(h),h.ruleset=u.ruleset,h.parent_ids=h.parent_ids.concat(u.parent_ids,c.parent_ids),u.firstExtendOnThisSelectorPath&&(h.firstExtendOnThisSelectorPath=!0,u.ruleset.paths.push(a))}));if(d.length){if(this.extendChainCount++,n>100){var p="{unable to calculate}",m="{unable to calculate}";try{p=d[0].selfSelectors[0].toCSS(),m=d[0].selector.toCSS()}catch(e){}throw{message:"extend circular reference detected. One of the circular extends is currently:"+p+":extend("+m+")"}}return d.concat(f.doExtendChaining(d,i,n+1))}return d},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitSelector:function(e,t){t.visitDeeper=!1},visitRuleset:function(e,t){if(!e.root){var i,n,o,s,r=this.allExtendsStack[this.allExtendsStack.length-1],a=[],l=this;for(o=0;o<r.length;o++)for(n=0;n<e.paths.length;n++)if(s=e.paths[n],!e.extendOnEveryPath){var c=s[s.length-1].extendList;c&&c.length||(i=this.findMatch(r[o],s)).length&&r[o].selfSelectors.forEach(function(e){a.push(l.extendSelector(i,s,e))})}e.paths=e.paths.concat(a)}},findMatch:function(e,t){var i,n,o,s,r,a,l,c=e.selector.elements,u=[],h=[];for(i=0;i<t.length;i++)for(n=t[i],o=0;o<n.elements.length;o++)for(s=n.elements[o],(e.allowBefore||0===i&&0===o)&&u.push({pathIndex:i,index:o,matched:0,initialCombinator:s.combinator}),a=0;a<u.length;a++)l=u[a],""===(r=s.combinator.value)&&0===o&&(r=" "),!this.isElementValuesEqual(c[l.matched].value,s.value)||l.matched>0&&c[l.matched].combinator.value!==r?l=null:l.matched++,l&&(l.finished=l.matched===c.length,l.finished&&!e.allowAfter&&(o+1<n.elements.length||i+1<t.length)&&(l=null)),l?l.finished&&(l.length=c.length,l.endPathIndex=i,l.endPathElementIndex=o+1,u.length=0,h.push(l)):(u.splice(a,1),a--);return h},isElementValuesEqual:function(t,i){if("string"==typeof t||"string"==typeof i)return t===i;if(t instanceof e.Attribute)return t.op===i.op&&t.key===i.key&&(t.value&&i.value?(t=t.value.value||t.value)===(i=i.value.value||i.value):!t.value&&!i.value);if(t=t.value,i=i.value,t instanceof e.Selector){if(!(i instanceof e.Selector)||t.elements.length!==i.elements.length)return!1;for(var n=0;n<t.elements.length;n++){if(t.elements[n].combinator.value!==i.elements[n].combinator.value&&(0!==n||(t.elements[n].combinator.value||" ")!==(i.elements[n].combinator.value||" ")))return!1;if(!this.isElementValuesEqual(t.elements[n].value,i.elements[n].value))return!1}return!0}return!1},extendSelector:function(t,i,n){var o,s,r,a,l,c=0,u=0,h=[];for(o=0;o<t.length;o++)s=i[(a=t[o]).pathIndex],r=new e.Element(a.initialCombinator,n.elements[0].value,n.elements[0].index,n.elements[0].currentFileInfo),a.pathIndex>c&&u>0&&(h[h.length-1].elements=h[h.length-1].elements.concat(i[c].elements.slice(u)),u=0,c++),l=s.elements.slice(u,a.index).concat([r]).concat(n.elements.slice(1)),c===a.pathIndex&&o>0?h[h.length-1].elements=h[h.length-1].elements.concat(l):(h=h.concat(i.slice(c,a.pathIndex))).push(new e.Selector(l)),c=a.endPathIndex,(u=a.endPathElementIndex)>=i[c].elements.length&&(u=0,c++);return c<i.length&&u>0&&(h[h.length-1].elements=h[h.length-1].elements.concat(i[c].elements.slice(u)),c++),h=h.concat(i.slice(c,i.length))},visitRulesetOut:function(e){},visitMedia:function(e,t){var i=e.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);i=i.concat(this.doExtendChaining(i,e.allExtends)),this.allExtendsStack.push(i)},visitMediaOut:function(e){this.allExtendsStack.length=this.allExtendsStack.length-1},visitDirective:function(e,t){var i=e.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);i=i.concat(this.doExtendChaining(i,e.allExtends)),this.allExtendsStack.push(i)},visitDirectiveOut:function(e){this.allExtendsStack.length=this.allExtendsStack.length-1}}}(i("./tree")),function(e){e.sourceMapOutput=function(e){this._css=[],this._rootNode=e.rootNode,this._writeSourceMap=e.writeSourceMap,this._contentsMap=e.contentsMap,this._contentsIgnoredCharsMap=e.contentsIgnoredCharsMap,this._sourceMapFilename=e.sourceMapFilename,this._outputFilename=e.outputFilename,this._sourceMapURL=e.sourceMapURL,e.sourceMapBasepath&&(this._sourceMapBasepath=e.sourceMapBasepath.replace(/\\/g,"/")),this._sourceMapRootpath=e.sourceMapRootpath,this._outputSourceFiles=e.outputSourceFiles,this._sourceMapGeneratorConstructor=e.sourceMapGenerator||i("source-map").SourceMapGenerator,this._sourceMapRootpath&&"/"!==this._sourceMapRootpath.charAt(this._sourceMapRootpath.length-1)&&(this._sourceMapRootpath+="/"),this._lineNumber=0,this._column=0},e.sourceMapOutput.prototype.normalizeFilename=function(e){return e=e.replace(/\\/g,"/"),this._sourceMapBasepath&&0===e.indexOf(this._sourceMapBasepath)&&("\\"!==(e=e.substring(this._sourceMapBasepath.length)).charAt(0)&&"/"!==e.charAt(0)||(e=e.substring(1))),(this._sourceMapRootpath||"")+e},e.sourceMapOutput.prototype.add=function(e,t,i,n){if(e){var o,s,r,a,l;if(t){var c=this._contentsMap[t.filename];this._contentsIgnoredCharsMap[t.filename]&&((i-=this._contentsIgnoredCharsMap[t.filename])<0&&(i=0),c=c.slice(this._contentsIgnoredCharsMap[t.filename])),a=(s=(c=c.substring(0,i)).split("\n"))[s.length-1]}if(r=(o=e.split("\n"))[o.length-1],t)if(n)for(l=0;l<o.length;l++)this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+l+1,column:0===l?this._column:0},original:{line:s.length+l,column:0===l?a.length:0},source:this.normalizeFilename(t.filename)});else this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+1,column:this._column},original:{line:s.length,column:a.length},source:this.normalizeFilename(t.filename)});1===o.length?this._column+=r.length:(this._lineNumber+=o.length-1,this._column=r.length),this._css.push(e)}},e.sourceMapOutput.prototype.isEmpty=function(){return 0===this._css.length},e.sourceMapOutput.prototype.toCSS=function(e){if(this._sourceMapGenerator=new this._sourceMapGeneratorConstructor({file:this._outputFilename,sourceRoot:null}),this._outputSourceFiles)for(var t in this._contentsMap)if(this._contentsMap.hasOwnProperty(t)){var n=this._contentsMap[t];this._contentsIgnoredCharsMap[t]&&(n=n.slice(this._contentsIgnoredCharsMap[t])),this._sourceMapGenerator.setSourceContent(this.normalizeFilename(t),n)}if(this._rootNode.genCSS(e,this),this._css.length>0){var o,s=JSON.stringify(this._sourceMapGenerator.toJSON());this._sourceMapURL?o=this._sourceMapURL:this._sourceMapFilename&&(o=this.normalizeFilename(this._sourceMapFilename)),this._writeSourceMap?this._writeSourceMap(s):o="data:application/json;base64,"+i("./encoder.js").encodeBase64(s),o&&this._css.push("/*# sourceMappingURL="+o+" */")}return this._css.join("")}}(i("./tree"));var s=/^(file|chrome(-extension)?|resource|qrc|app):/.test(location.protocol);n.env=n.env||("127.0.0.1"==location.hostname||"0.0.0.0"==location.hostname||"localhost"==location.hostname||location.port&&location.port.length>0||s?"development":"production");var r={debug:3,info:2,errors:1,none:0};if(n.logLevel=void 0!==n.logLevel?n.logLevel:"development"===n.env?r.debug:r.errors,n.async=n.async||!1,n.fileAsync=n.fileAsync||!1,n.poll=n.poll||(s?1e3:1500),n.functions)for(var a in n.functions)n.functions.hasOwnProperty(a)&&(n.tree.functions[a]=n.functions[a]);var l=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(location.hash);l&&(n.dumpLineNumbers=l[1]);var c=/^text\/(x-)?less$/,u=null,h={};function d(e,t){"undefined"!=typeof console&&n.logLevel>=t&&console.log("less: "+e)}function f(e){return e.replace(/^[a-z-]+:\/+?[^\/]+/,"").replace(/^\//,"").replace(/\.[a-zA-Z]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")}function p(e,t,i){var n=t.href||"",o="less:"+(t.title||f(n)),s=document.getElementById(o),a=!1,l=document.createElement("style");l.setAttribute("type","text/css"),t.media&&l.setAttribute("media",t.media),l.id=o,l.styleSheet||(l.appendChild(document.createTextNode(e)),a=null!==s&&s.childNodes.length>0&&l.childNodes.length>0&&s.firstChild.nodeValue===l.firstChild.nodeValue);var c=document.getElementsByTagName("head")[0];if(null===s||!1===a){var h=t&&t.nextSibling||null;h?h.parentNode.insertBefore(l,h):c.appendChild(l)}if(s&&!1===a&&s.parentNode.removeChild(s),l.styleSheet)try{l.styleSheet.cssText=e}catch(e){throw new Error("Couldn't reassign styleSheet.cssText.")}if(i&&u){d("saving "+n+" to cache.",r.info);try{u.setItem(n,e),u.setItem(n+":timestamp",i)}catch(e){d("failed to save",r.errors)}}}function m(e){return n.postProcessor&&"function"==typeof n.postProcessor&&(e=n.postProcessor.call(e,e)||e),e}function v(e,i){n.errorReporting&&"html"!==n.errorReporting?"console"===n.errorReporting?function(e,i){var n=e.filename||i,o=[],s=(e.type||"Syntax")+"Error: "+(e.message||"There is an error in your .less file")+" in "+n+" ",a=function(e,i,n){e.extract[i]!==t&&o.push("{line} {content}".replace(/\{line\}/,(parseInt(e.line,10)||0)+(i-1)).replace(/\{class\}/,n).replace(/\{content\}/,e.extract[i]))};e.extract?(a(e,0,""),a(e,1,"line"),a(e,2,""),s+="on line "+e.line+", column "+(e.column+1)+":\n"+o.join("\n")):e.stack&&(s+=e.stack),d(s,r.errors)}(e,i):"function"==typeof n.errorReporting&&n.errorReporting("add",e,i):function(e,i){var o,s,r="less-error-message:"+f(i||""),a=document.createElement("div"),l=[],c=e.filename||i,u=c.match(/([^\/]+(\?.*)?)$/)[1];a.id=r,a.className="less-error-message",s="<h3>"+(e.type||"Syntax")+"Error: "+(e.message||"There is an error in your .less file")+'</h3><p>in <a href="'+c+'">'+u+"</a> ";var h=function(e,i,n){e.extract[i]!==t&&l.push('<li><label>{line}</label><pre class="{class}">{content}</pre></li>'.replace(/\{line\}/,(parseInt(e.line,10)||0)+(i-1)).replace(/\{class\}/,n).replace(/\{content\}/,e.extract[i]))};e.extract?(h(e,0,""),h(e,1,"line"),h(e,2,""),s+="on line "+e.line+", column "+(e.column+1)+":</p><ul>"+l.join("")+"</ul>"):e.stack&&(s+="<br/>"+e.stack.split("\n").slice(1).join("<br/>")),a.innerHTML=s,p([".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #dd6666;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.line {","color: #ff0000;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join("\n"),{title:"error-message"}),a.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";"),"development"==n.env&&(o=setInterval(function(){document.body&&(document.getElementById(r)?document.body.replaceChild(a,document.getElementById(r)):document.body.insertBefore(a,document.body.firstChild),clearInterval(o))},10))}(e,i)}function g(e){n.errorReporting&&"html"!==n.errorReporting?"console"===n.errorReporting||"function"==typeof n.errorReporting&&n.errorReporting("remove",e):function(e){var t=document.getElementById("less-error-message:"+f(e));t&&t.parentNode.removeChild(t)}(e)}function y(e){for(var t,i=document.getElementsByTagName("style"),o=0;o<i.length;o++)if((t=i[o]).type.match(c)){var s=new n.tree.parseEnv(n),r=t.innerHTML||"";s.filename=document.location.href.replace(/#.*$/,""),(e||n.globalVars)&&(s.useFileCache=!0);var a=function(e){return function(t,i){if(t)return v(t,"inline");var o=i.toCSS(n);e.type="text/css",e.styleSheet?e.styleSheet.cssText=o:e.innerHTML=o}}(t);new n.Parser(s).parse(r,a,{globalVars:n.globalVars,modifyVars:e})}}function b(e,t){var i,n,o=/^((?:[a-z-]+:)?\/+?(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/i,s=e.match(o),r={},a=[];if(!s)throw new Error("Could not parse sheet href - '"+e+"'");if(!s[1]||s[2]){if(!(n=t.match(o)))throw new Error("Could not parse page url - '"+t+"'");s[1]=s[1]||n[1]||"",s[2]||(s[3]=n[3]+s[3])}if(s[3]){for(a=s[3].replace(/\\/g,"/").split("/"),i=0;i<a.length;i++)"."===a[i]&&(a.splice(i,1),i-=1);for(i=0;i<a.length;i++)".."===a[i]&&i>0&&(a.splice(i-1,2),i-=2)}return r.hostPart=s[1],r.directories=a,r.path=s[1]+a.join("/"),r.fileUrl=r.path+(s[4]||""),r.url=r.fileUrl+(s[5]||""),r}function w(t,i,o,a){var l=function(){if(e.XMLHttpRequest&&!("file:"===e.location.protocol&&"ActiveXObject"in e))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return d("browser doesn't support AJAX.",r.errors),null}}(),c=s?n.fileAsync:n.async;function u(e,i,n){e.status>=200&&e.status<300?i(e.responseText,e.getResponseHeader("Last-Modified")):"function"==typeof n&&n(e.status,t)}"function"==typeof l.overrideMimeType&&l.overrideMimeType("text/css"),d("XHR: Getting '"+t+"'",r.debug),l.open("GET",t,c),l.setRequestHeader("Accept",i||"text/x-less, text/css; q=0.9, */*; q=0.5"),l.send(null),s&&!n.fileAsync?0===l.status||l.status>=200&&l.status<300?o(l.responseText):a(l.status,t):c?l.onreadystatechange=function(){4==l.readyState&&u(l,o,a)}:u(l,o,a)}function x(t,i,o,s,r){i&&i.currentDirectory&&!/^([A-Za-z-]+:)?\//.test(t)&&(t=i.currentDirectory+t);var a=b(t,e.location.href),l=a.url,c={currentDirectory:a.path,filename:l};if(i?(c.entryPath=i.entryPath,c.rootpath=i.rootpath,c.rootFilename=i.rootFilename,c.relativeUrls=i.relativeUrls):(c.entryPath=a.path,c.rootpath=n.rootpath||a.path,c.rootFilename=l,c.relativeUrls=s.relativeUrls),c.relativeUrls&&(s.rootpath?c.rootpath=b(s.rootpath+function(e,t){var i,n,o,s,r=b(e),a=b(t),l="";if(r.hostPart!==a.hostPart)return"";for(n=Math.max(a.directories.length,r.directories.length),i=0;i<n&&a.directories[i]===r.directories[i];i++);for(s=a.directories.slice(i),o=r.directories.slice(i),i=0;i<s.length-1;i++)l+="../";for(i=0;i<o.length-1;i++)l+=o[i]+"/";return l}(a.path,c.entryPath)).path:c.rootpath=a.path),s.useFileCache&&h[l])try{var u=h[l];o(null,u,l,c,{lastModified:new Date})}catch(e){o(e,null,l)}else w(l,s.mime,function(e,t){h[l]=e;try{o(null,e,l,c,{lastModified:t})}catch(e){o(e,null,l)}},function(e,t){o({type:"File",message:"'"+t+"' wasn't found ("+e+")"},null,l)})}function C(e,t,i,o,s){var r=new n.tree.parseEnv(n);r.mime=e.type,(s||n.globalVars)&&(r.useFileCache=!0),x(e.href,null,function(a,l,c,h,d){if(d){d.remaining=o;var f=u&&u.getItem(c),m=u&&u.getItem(c+":timestamp");if(!i&&m&&d.lastModified&&new Date(d.lastModified).valueOf()===new Date(m).valueOf())return p(f,e),d.local=!0,void t(null,null,l,e,d,c)}g(c),l?(r.currentFileInfo=h,new n.Parser(r).parse(l,function(i,n){if(i)return t(i,null,null,e);try{t(i,n,l,e,d,c)}catch(i){t(i,null,null,e)}},{modifyVars:s,globalVars:n.globalVars})):t(a,null,null,e,d,c)},r)}function k(e,t,i){for(var o=0;o<n.sheets.length;o++)C(n.sheets[o],e,t,n.sheets.length-(o+1),i)}if(n.watch=function(){return n.watchMode||(n.env="development","development"===n.env?(n.optimization=0,n.watchTimer=setInterval(function(){n.watchMode&&k(function(e,t,i,o,s){if(e)v(e,o.href);else if(t){var r=t.toCSS(n);p(r=m(r),o,s.lastModified)}})},n.poll)):n.optimization=3),this.watchMode=!0,!0},n.unwatch=function(){return clearInterval(n.watchTimer),this.watchMode=!1,!1},/!watch/.test(location.hash)&&n.watch(),"development"!=n.env)try{u=void 0===e.localStorage?null:e.localStorage}catch(e){}var S=document.getElementsByTagName("link");n.sheets=[];for(var E=0;E<S.length;E++)("stylesheet/less"===S[E].rel||S[E].rel.match(/stylesheet/)&&S[E].type.match(c))&&n.sheets.push(S[E]);n.modifyVars=function(e){n.refresh(!1,e)},n.refresh=function(e,t){var i,o;i=o=new Date,k(function(e,t,s,a,l){if(e)return v(e,a.href);if(l.local)d("loading "+a.href+" from cache.",r.info);else{d("parsed "+a.href+" successfully.",r.debug);var c=t.toCSS(n);p(c=m(c),a,l.lastModified)}d("css for "+a.href+" generated in "+(new Date-o)+"ms",r.info),0===l.remaining&&d("less has finished. css generated in "+(new Date-i)+"ms",r.info),o=new Date},e,t),y(t)},n.refreshStyles=y,n.Parser.fileLoader=x,n.refresh("development"===n.env),"function"==typeof define&&define.amd&&define(function(){return n})}(window),jQuery(document).ready(()=>{let e=()=>{let e=document.location.hash;if(!e)return;console.log('a[name="'+e.substr(1)+'"]');let t=jQuery('a[name="'+e.substr(1)+'"]');t.length<=0||jQuery("html ,body").animate({scrollTop:t.offset().top},800)};e(),setTimeout(e,400)});